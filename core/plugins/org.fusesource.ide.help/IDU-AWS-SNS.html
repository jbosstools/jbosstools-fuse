<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>AWS-SNS</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-AWS.html" title="AWS"><link rel="prev" href="IDU-AWS-SES.html" title="AWS-SES"><link rel="next" href="IDU-AWS-SQS.html" title="AWS-SQS"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-AWS-SNS"></a>AWS-SNS</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="IDU-AWS-SNS_HSH_SNSComponent"></a>SNS Component</h3></div></div></div><p></p><p><span class="bold"><strong>Available as of Camel 2.8</strong></span>
    </p><p>The SNS component allows messages to be sent to an <a class="link" href="http://aws.amazon.com/sns" target="_top">Amazon Simple Notification</a> Topic. The implementation of the Amazon API is provided by the&nbsp;<a class="link" href="http://aws.amazon.com/sdkforjava/" target="_top">AWS SDK</a>.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Prerequisites"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Prerequisites</th></tr><tr><td align="left" valign="top"><p>You must have a valid Amazon Web Services developer account, and be signed up to use Amazon SNS. More information are available at <a class="link" href="http://aws.amazon.com/sns" target="_top">Amazon SNS</a>.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="IDU-AWS-SNS_HSH_URIFormat"></a>URI Format</h3></div></div></div><p></p><pre class="programlisting">aws-sns://topicNameOrARN[?options]</pre><p>Where <code class="code">topicNameOrARN</code> can be either a topic name or an Amazon Resource Name
            (ARN). The topic will be created if they don't already exists. You can append query
            options to the URI in the following format,
                <code class="literal">?options=value&amp;option2=value&amp;...</code>
        </p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="IDU-AWS-SNS_HSH_URIOptions"></a>URI Options</h3></div></div></div><p></p><table id="d0e53797"><tr>
        <th> Name </th>
        <th> Default Value </th>
        <th> Context </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="code">amazonSNSClient</code>
                </td>
        <td><code class="literal">null</code>
        </td>
        <td> Producer </td>
        <td> Reference to a <code class="literal">com.amazonaws.services.sns.AmazonSNS</code> in the Registry. </td>
      </tr><tr>
        <td><code class="code">accessKey</code>
                </td>
        <td><code class="literal">null</code>
        </td>
        <td> Producer </td>
        <td> Amazon AWS Access Key </td>
      </tr><tr>
        <td><code class="code">secretKey</code>
                </td>
        <td><code class="literal">null</code>
        </td>
        <td> Producer </td>
        <td> Amazon AWS Secret Key </td>
      </tr><tr>
        <td><code class="code">subject</code>
                </td>
        <td><code class="literal">null</code>
        </td>
        <td> Producer </td>
        <td> The subject which is used if the message header 'CamelAwsSnsSubject' is not present. </td>
      </tr><tr>
        <td><code class="code">amazonSNSEndpoint</code>
                </td>
        <td><code class="literal">null</code>
        </td>
        <td> Producer </td>
        <td> The region with which the AWS-SNS client wants to work with. </td>
      </tr><tr>
        <td><code class="code">policy</code>
                </td>
        <td><code class="literal">null</code>
        </td>
        <td> Producer </td>
        <td><span class="bold"><strong>Camel 2.8.4</strong></span>: The policy for this queue to set in the <code class="literal">com.amazonaws.services.sns.model.SetTopicAttributesRequest</code>. </td>
      </tr><tr>
                <td><code class="code">proxyHost</code></td>
                <td><code class="literal">null</code>
                </td>
                <td> Producer </td>
                <td>Specify a proxy host to be used inside the client definition.</td>
            </tr><tr>
                <td><code class="code">proxyPort</code></td>
                <td><code class="literal">null</code>
                </td>
                <td> Producer </td>
                <td>Specify a proxy port to be used inside the client definition.</td>
            </tr></table><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important: Required SNS component options"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Required SNS component options</th></tr><tr><td align="left" valign="top"><p>You have to provide the amazonSNSClient in the Registry or your accessKey and secretKey to access the <a class="link" href="http://aws.amazon.com/sns" target="_top">Amazon's SNS</a>.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="IDU-AWS-SNS_HSH_Usage"></a>Usage</h3></div></div></div><p></p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="IDU-AWS-SNS_HSH_MessageheadersevaluatedbytheSNSproducer"></a>Message headers evaluated by the SNS producer</h3></div></div></div><p></p><p>

    </p><table id="d0e53984"><tr>
        <th> Header </th>
        <th> Type </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">CamelAwsSnsSubject</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td> The Amazon SNS message subject. If not set, the subject from the <code class="literal">SnsConfiguration</code> is used. </td>
      </tr></table><p>

    </p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="IDU-AWS-SNS_HSH_MessageheaderssetbytheSNSproducer"></a>Message headers set by the SNS producer</h3></div></div></div><p></p><p>

    </p><table id="d0e54027"><tr>
        <th> Header </th>
        <th> Type </th>
        <th> Description </th>
      </tr><tr>
        <td><code class="literal">CamelAwsSnsMessageId</code>
        </td>
        <td><code class="literal">String</code>
        </td>
        <td> The Amazon SNS message ID. </td>
      </tr></table><p>

    </p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="IDU-AWS-SNS_HSH_AdvancedAmazonSNSconfiguration"></a>Advanced AmazonSNS configuration</h3></div></div></div><p>If you need more control over the <code class="literal">AmazonSNS</code> instance configuration you can create your own instance and refer to it from the URI:</p><pre class="programlisting">from("direct:start")
.to("aws-sns://MyTopic?amazonSNSClient=#client");</pre><p>The <code class="literal">#client</code> refers to a <code class="literal">AmazonSNS</code> in the Registry.</p><p>For example if your Camel Application is running behind a firewall:</p><pre class="programlisting">
AWSCredentials awsCredentials = new BasicAWSCredentials("myAccessKey", "mySecretKey");
ClientConfiguration clientConfiguration = new ClientConfiguration();
clientConfiguration.setProxyHost("http://myProxyHost");
clientConfiguration.setProxyPort(8080);
AmazonSNS client = new AmazonSNSClient(awsCredentials, clientConfiguration);

registry.bind("client", client);</pre></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="IDU-AWS-SNS_HSH_Dependencies"></a>Dependencies</h3></div></div></div><p></p><p>Maven users will need to add the following dependency to their pom.xml.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: pom.xml"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">pom.xml</th></tr><tr><td align="left" valign="top"><pre class="programlisting">
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-aws&lt;/artifactId&gt;
    &lt;version&gt;${camel-version}&lt;/version&gt;
&lt;/dependency&gt;

</pre></td></tr></table></div><p>where <code class="literal">$\{camel-version\}</code> must be replaced by the actual version of Camel (2.8 or higher).</p><p>

    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
          <a href="IDU-AWS.html" class="olink">AWS Component</a>
        </p></li></ul></div></div></div></body></html>