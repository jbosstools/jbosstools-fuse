<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Running a Route</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling"><link rel="up" href="RiderEclipseHelp.html" title="Part&nbsp;I.&nbsp;Tooling Tutorials"><link rel="prev" href="RiderTutorialCreate.html" title="Defining a Route"><link rel="next" href="RiderTutorialCBR.html" title="Adding a Content-Based Router"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="RiderTutorialRun"></a>Running a Route</h2></div></div></div><p>This tutorial walks you through the process of running a route  to verify that the route correctly transfers messages from the source endpoint to the sink endpoint.</p><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_goals_3"></a>Goals</h2></div></div></div><p>In this tutorial you complete the following tasks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Run a route as a local Camel context (without tests since you have not set up a test yet)</li><li class="listitem">Send messages through the route</li><li class="listitem">Examine the messages received by the sink endpoint</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_prerequisites_2"></a>Prerequisites</h2></div></div></div><p>To start this tutorial, you need the <span class="strong"><strong>ZooOrderApp</strong></span> project resulting from:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Completing the <a class="xref" href="RiderTutorialSetup.html" title="Setting up your environment"><i>Setting up your environment</i></a> tutorial.</li><li class="listitem"><p class="simpara">One of the following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">Completing the <a class="xref" href="RiderTutorialCreate.html" title="Defining a Route"><i>Defining a Route</i></a> tutorial.</p><p class="simpara">or</p></li><li class="listitem">Replacing your project&#8217;s <code class="literal">blueprint.xml</code> file with the provided <code class="literal">blueprintContexts/blueprint1.xml</code> file, as described in <a class="xref" href="RiderTutorialIntro.html#AboutResourceFiles" title="About the resource files">About the resource files</a>.</li></ul></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderRunRun"></a>Running the route</h2></div></div></div><p>To run the route:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Open the <code class="literal">ZooOrderApp</code> project.</li><li class="listitem"><p class="simpara">In <span class="strong"><strong>Project Explorer</strong></span>, select <code class="literal">ZooOrderApp/Camel
Contexts/blueprint.xml</code>
:</p><div class="informalfigure"><div class="mediaobject"><img src="images/tutRunCBRrouteCamContext.png" alt="tutRunCBRrouteCamContext"></div></div></li><li class="listitem"><p class="simpara">Right-click it to open the context menu, then select <span class="strong"><strong>Run As</strong></span> &#8594; <span class="strong"><strong>Local Camel Context (without tests)</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you select <span class="strong"><strong>Local Camel Context</strong></span> instead, the tooling
automatically tries to run the routing context against a supplied JUnit
test. Because a JUnit test does not exist, the tooling reverts to running the routing
context without tests. In the <a class="xref" href="RiderTutorialJUnit.html" title="Testing a route with JUnit"><i>Testing a route with JUnit</i></a>
tutorial, you create a JUnit test case and modify it specifically for
testing the <span class="strong"><strong>ZooOrderApp</strong></span> project.</p></td></tr></table></div><p class="simpara">The <span class="strong"><strong>Console</strong></span> panel opens to display log messages that reflect the progress of the project&#8217;s execution. At the
beginning, Maven downloads the resources necessary to update the local Maven repository, which may take a few minutes.</p><p class="simpara">Messages similar to the following at the end of the output indicate that the
route executed successfully:</p><pre class="screen">...
[Blueprint Extender: 3] BlueprintCamelContext INFO  Route: _route1 started and consuming from:Endpoint[file://src/data?noop=true]
[Blueprint Extender: 3] BlueprintCamelContext INFO  Total 1 routes, of which 1 are started.
[Blueprint Extender: 1] BlueprintCamelContext INFO  Apache Camel 2.18.1.redhat-00002 (CamelContext: ...) started in 0.163 seconds
[Blueprint Extender: 3] BlueprintCamelContext INFO  Apache Camel 2.18.1.redhat-00002 (CamelContext: ...) started in 0.918 seconds</pre></li><li class="listitem">To shutdown the route, click
<span class="inlinemediaobject"><img src="./images/ConsoleStopButton.jpg" alt="console&#8217;s shutdown button"></span> located at the top of the <span class="strong"><strong>Console</strong></span> view.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_verifying_the_route"></a>Verifying the route</h2></div></div></div><p>To verify that the route executed properly, you check to see whether the message XML files were copied from the source folder (<code class="literal">src/data</code>) to the target folder ('target/messages/received').</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In <span class="strong"><strong>Project Explorer</strong></span>, select <code class="literal">ZooOrderApp</code>.</li><li class="listitem">Right-click it to open the context menu, then select
<span class="strong"><strong>Refresh</strong></span>.</li><li class="listitem"><p class="simpara">In <span class="strong"><strong>Project Explorer</strong></span>, locate the folder
<code class="literal">target/messages/</code> and expand it:</p><div class="informalfigure"><div class="mediaobject"><img src="images/tutTargetMessage.png" alt="message destination"></div></div></li><li class="listitem">Verify that the <code class="literal">target/messages/received</code> folder contains the six
message files, <code class="literal">message1.xml</code> through
<code class="literal">message6.xml</code>.</li><li class="listitem"><p class="simpara">Double-click <code class="literal">message1.xml</code> to open it in the route
editor&#8217;s <span class="strong"><strong>Design</strong></span> tab, then select the <span class="strong"><strong>Source</strong></span> tab to see the XML code.</p><pre class="screen">&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;

&amp;lt;order&amp;gt;
  &amp;lt;customer&amp;gt;
    &amp;lt;name&amp;gt;Bronx Zoo&amp;lt;/name&amp;gt;
    &amp;lt;city&amp;gt;Bronx NY&amp;lt;/city&amp;gt;
    &amp;lt;country&amp;gt;USA&amp;lt;/country&amp;gt;
  &amp;lt;/customer&amp;gt;
  &amp;lt;orderline&amp;gt;
    &amp;lt;animal&amp;gt;wombat&amp;lt;/animal&amp;gt;
    &amp;lt;quantity&amp;gt;12&amp;lt;/quantity&amp;gt;
  &amp;lt;/orderline&amp;gt;
&amp;lt;/order&amp;gt;</pre></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_next_steps_3"></a>Next steps</h2></div></div></div><p>In the <a class="xref" href="RiderTutorialCBR.html" title="Adding a Content-Based Router"><i>Adding a Content-Based Router</i></a> tutorial you add a Content-Based Router that uses the content of a message to determine its destination.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_further_reading"></a>Further reading</h2></div></div></div><p>To learn more about:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Configuring runtime profiles, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_fuse/7.0/html-single/tooling_user_guide/index#RiderEditRoute" target="_top">Editing a routing context in the route editor</a> section in "Tooling User Guide".</li><li class="listitem">Deploying Apache Camel applications, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_jboss_Fuse/6.3/html/developing_and_deploying_applications/index" target="_top">
Developing and Deploying Applications</a>.</li></ul></div></div></div></body></html>