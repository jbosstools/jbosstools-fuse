<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Adding global endpoints and data formats</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="RiderEditRoute.html" title="Editing a routing context in the route editor"><link rel="prev" href="RiderAddBeans.html" title="Adding beans and configuration"><link rel="next" href="RiderEditPrefs.html" title="Configuring the route editor"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderAddGlobalCnfg"></a>Adding global endpoints and data formats</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1973"></a>Overview</h3></div></div></div><p>Some routes may rely on shared configuration provided by global endpoints or data
            formats. You can add global endpoints and data formats to the project's routing context
            file using the route editor's <span class="guilabel">Configurations</span> view.</p></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1981"></a>Accessing the global configurations options</h3></div></div></div><p>To add global endpoints or data formats to your routing context file:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Open your routing context file in the route editor.</p></li><li class="step"><p>Click the <span class="guilabel">Configurations</span> tab at the bottom of the route
                    editor's canvas to switch to <span class="guilabel">Configurations</span> view.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/ConfigurationsView.png" width="335.5"></div></div></li><li class="step"><p>Click <span class="guibutton">Add</span> to open the <span class="guilabel">Create a new global element</span>
                    dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVAddButton.png" width="333.3"></div></div><p>The options are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Endpoint&#8212;For details on adding a global endpoint, see <a class="xref" href="RiderAddGlobalCnfg.html#selectGlobalEndpoint" title="Adding an endpoint">Adding an endpoint</a>
                        </p></li><li class="listitem"><p>Data Format&#8212;For details on adding a global data format, see
                            <a class="xref" href="RiderAddGlobalCnfg.html#selectGlobalDF" title="Adding a data format">Adding a data format</a>
                        </p></li></ul></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="selectGlobalEndpoint"></a>Adding an endpoint</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In the <span class="guilabel">Create a new global element</span> dialog, select
                        <span class="guilabel">Endpoint</span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVAddEndpoint.png" width="187.55"></div></div></li><li class="step"><p>Click <span class="guibutton">OK</span> to open the <span class="guilabel">Select component</span>
                    dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVSelectCamComponent1.png" width="608.3000000000001"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>By default, the <span class="guilabel">Select component</span> dialog opens with the <span class="guimenuitem">Show
                            only palette components</span> option enabled. To see all
                        available components, disable this option.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <span class="guilabel">Grouped by categories</span> option groups components by type.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVSelectCamComponentGrouped.png" width="552"></div></div></td></tr></table></div></li><li class="step"><a name="globalEndptSelect"></a><p>In the <span class="guilabel">Select component</span> dialog, scroll through the list
                    of Camel components to find and select the component you want to add to the
                    context file, and then enter an ID for it in the <span class="guilabel">Id</span>
                    field.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCamComponentSelected.png" width="608.85"></div></div><p>In this example, we selected the JMS component and entered
                        <strong class="userinput"><code>myJMS</code></strong> in <span class="guilabel">Id</span>.</p></li><li class="step"><p>Click <span class="guibutton">Finish</span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVmyEndptAdded2.png" width="342.55"></div></div><p>If necessary, open the <span class="guilabel">Properties</span> editor to edit the
                    component's properties as appropriate for your project.</p><p>The tooling autofills <span class="guilabel">Id</span> with the value you entered in
                    the component's <span class="guilabel">Id</span> field in <a class="xref" href="RiderAddGlobalCnfg.html#globalEndptSelect" title="Step 3">Step 3</a>. It builds the <span class="guilabel">uri</span>
                    (required field) starting with the component's schema (in this case,
                        <code class="literal">jms:</code>), but you must specify the <code class="code">destinationName</code> 
                    and the <code class="code">destinationType</code>
                    to complete the component's <span class="guilabel">uri</span>. </p></li><li class="step"><p>To complete the component's uri, click <span class="guimenu">Advanced</span> &gt; <span class="guisubmenu">Path</span>.</p></li><li class="step"><p>In <span class="guilabel">Destination Name</span>, enter the name of the destination
                    endpoint (for example, <strong class="userinput"><code>FOO.BAR</code></strong>). In <span class="guilabel">Destination
                        Type</span>, enter the endpoint destination's type (for example,
                     <strong class="userinput"><code>queue</code></strong>, <strong class="userinput"><code>topic</code></strong>),
                     <strong class="userinput"><code>temp:queue</code></strong>, or <strong class="userinput"><code>temp:topic</code></strong>). </p><div class="informalfigure"><div class="mediaobject"><img src="./images/JMSCompAdvanPathProp.png" width="310.7"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For the JMS component, the destination type defaults to <code class="code">queue</code>.
                        This default value does not appear in the <span class="guilabel">uri</span> field on
                        the <span class="guilabel">Details</span> page until you have entered a value in
                            <span class="guilabel">Destination Name</span> (required field) .</p></td></tr></table></div><p>The <span class="guilabel">Properties</span> editor's <span class="guilabel">Details</span> and
                        <span class="guilabel">Advanced</span> pages provide access to all properties
                    available for configuring a particular component.  </p></li><li class="step"><p>For example, click the <span class="guilabel">Consumer (advanced)</span> tab.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/JMSCompConsumerAdvanProps2.png" width="550.5500000000001"></div></div><p>Enable the properties <span class="guilabel">Eager Loading Of
                        Properties</span> and <span class="guilabel">Expose Listener
                    Session</span>.</p></li><li class="step"><p>Switch to <span class="guilabel">Source</span> view to see the code that the tooling
                    added to the context file (in this example, a configured JMS endpoint), before
                    the first <code class="sgmltag-element">route</code> element.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsEndptSourceView.png" width="579.15"></div></div></li><li class="step"><p>When done, save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="selectGlobalDF"></a>Adding a data format</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In the <span class="guilabel">Create a new global element</span> dialog, select
                        <span class="guilabel">Data Format</span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVSelectDF.png" width="203.4"></div></div></li><li class="step"><p>Click <span class="guibutton">OK</span> to open the <span class="guilabel">Create a global Data
                        Format</span> dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCreateGlobalDF1.png" width="436.1499999999999"></div></div><p>The data format defaults to <code class="literal">avro</code>, the format at the top of
                    the list of those available.</p></li><li class="step"><p>Open the <span class="guilabel">Data Format</span> drop-down menu, and select the
                    format you want from the list (for example, <code class="literal">xmljson</code>).</p></li><li class="step"><p>In <span class="guilabel">Id</span>, enter a name for the format (for example,
                    <em class="replaceable"><code>myDataFormat</code></em>).</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCreateGlobalDF2.png" width="441.3500000000001"></div></div></li><li class="step"><p>Click <span class="guibutton">Finish</span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEditGlobalDFprops1.png" width="254.65000000000006"></div></div><p>If necessary, open the <span class="guilabel">Properties</span> editor to display the
                    data format's properties for editing.</p></li><li class="step"><p>In the <span class="guilabel">Properties</span> editor, set property values as
                    appropriate for your project; for example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEditGlobalDFprops2.png" width="415.2"></div></div></li><li class="step"><p>Switch to <span class="guilabel">Source</span> view to see the code that the tooling
                    added to the context file (in this example, a configured xmljson data format),
                    before the first <code class="sgmltag-element">route</code> element.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVGlobalDFSourceV.png" width="492.59999999999997"></div></div></li><li class="step"><p>When done, save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="deleteGlobalComponent"></a>Deleting a global endpoint or data format</h3></div></div></div><p>The procedure is the same whether removing an endpoint or data format previously added
            to the routing context.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">Configurations</span> view, select the global
                    component&#8212;endpoint or data format&#8212;you want to delete.</p><p>For example, deleting the data format <code class="filename">myDataFormat</code>
                    previously added in <a class="xref" href="RiderAddGlobalCnfg.html#selectGlobalDF" title="Adding a data format">Adding a data format</a>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVDFSelectDelete.png" width="218.9"></div></div></li><li class="step"><p>Click <span class="guibutton">Delete</span>.</p><p>The global component <code class="filename">myDataFormat</code> disappears from
                        <span class="guilabel">Configurations</span> view.</p></li><li class="step"><p>Switch to <span class="guilabel">Source</span> view to check that the tooling removed
                    the XML code from the routing context. </p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsDelDFSourceV.png" width="449.90000000000003"></div></div></li><li class="step"><p>When done, save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="editGlobalComponent"></a>Editing a global endpoint or data format</h3></div></div></div><p>The procedure is the same whether modifying the properties of an endpoint or data
            format previously added to the routing context.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">Configurations</span> view, select the global
                    component&#8212;endpoint or data format&#8212;you want to edit.</p><p>For example, editing the endpoint <code class="filename">myJMS</code> previously added
                    in <a class="xref" href="RiderAddGlobalCnfg.html#selectGlobalEndpoint" title="Adding an endpoint">Adding an endpoint</a>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEndptEditSelect.png" width="206.8"></div></div></li><li class="step"><p>Click <span class="guibutton">Edit</span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEndptClickEdit.png" width="195.8"></div></div><p>In the <span class="guilabel">Properties</span> editor, modify the component's
                    properties according to your project's needs.</p></li><li class="step"><p>For example, open the <span class="guimenu">Advanced</span> &gt; <span class="guisubmenu">Consumer</span> tab, and change the value of <span class="guilabel">Concurrent
                        Consumers</span> to <strong class="userinput"><code>2</code></strong>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsEditEndpntConcurConsume2.png" width="476.85"></div></div></li><li class="step"><p>Switch to <span class="guilabel">Source</span> view and check that the tooling added
                    the property <code class="code">concurrentConsumers=2</code> to the routing context:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEndptEditSourceV.png" width="485.6500000000001"></div></div></li><li class="step"><p>When done, save your changes by selecting <span class="guimenu">File</span> &gt; <span class="guimenuitem">Save</span> on the menu bar.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2481"></a>Related topics</h3></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td>
                <a href="RiderAddBeans.html" class="olink">Adding beans and configuration</a>
            </td></tr></table></div></div></body></html>