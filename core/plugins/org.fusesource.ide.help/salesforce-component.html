<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Salesforce Component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="rss-dataformat.html" title="RSS DataFormat"><link rel="next" href="SAP.html" title="SAP Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="salesforce-component"></a>Salesforce Component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="salesforce-component.html#_authenticating_to_salesforce">Authenticating to Salesforce</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_uri_format_166">URI format</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_passing_in_salesforce_headers_and_fetching_salesforce_response_headers">Passing in Salesforce headers and fetching Salesforce response headers</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_supported_salesforce_apis">Supported Salesforce APIs</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_examples_27">Examples</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_using_salesforce_limits_api">Using Salesforce Limits API</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_working_with_approvals">Working with approvals</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_using_salesforce_recent_items_api">Using Salesforce Recent Items API</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_working_with_approvals_2">Working with approvals</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_using_salesforce_composite_api_to_submit_sobject_tree">Using Salesforce Composite API to submit SObject tree</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_using_salesforce_composite_api_to_submit_multiple_requests_in_a_batch">Using Salesforce Composite API to submit multiple requests in a batch</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_using_salesforce_composite_api_to_submit_multiple_chained_requests">Using Salesforce Composite API to submit multiple chained requests</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_camel_salesforce_maven_plugin">Camel Salesforce Maven Plugin</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_options_127">Options</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_see_also_111">See Also</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel version 2.12</strong></span></p><p>This component supports producer and consumer endpoints to communicate
with Salesforce using Java DTOs. 
 There is a companion maven plugin Camel Salesforce Plugin that
generates these DTOs (see further below).</p><p>Maven users will need to add the following dependency to their <code class="literal">pom.xml</code>
for this component:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>org.apache.camel<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>camel-salesforce<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;version&gt;</strong>x.x.x<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
    <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- use the same version as your Camel core version --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Developers wishing to contribute to the component are instructed
to look at the README.md file on instructions on how to get started and
setup your environment for running integration tests.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_authenticating_to_salesforce"></a>Authenticating to Salesforce</h2></div></div></div><p>The component supports three OAuth authentication flows:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="link" href="https://help.salesforce.com/articleView?id=remoteaccess_oauth_username_password_flow.htm" target="_top">OAuth 2.0 Username-Password Flow</a></li><li class="listitem"><a class="link" href="https://help.salesforce.com/articleView?id=remoteaccess_oauth_refresh_token_flow.htm" target="_top">OAuth 2.0 Refresh Token Flow</a></li><li class="listitem"><a class="link" href="https://help.salesforce.com/articleView?id=remoteaccess_oauth_jwt_flow.htm" target="_top">OAuth 2.0 JWT Bearer Token Flow</a></li></ul></div><p>For each of the flow different set of properties needs to be set:</p><div class="table"><p class="title"><b>Table&nbsp;150.&nbsp;Properties to set for each authentication flow</b></p><div class="table-contents"><table summary="Properties to set for each authentication flow" border="1"><colgroup><col width="33%" class="col_1"><col width="33%" class="col_2"><col width="34%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">Property</th><th align="left" valign="top">Where to find it on Salesforce</th><th align="left" valign="top">Flow</th></tr></thead><tbody><tr><td align="left" valign="top"><p>clientId</p></td><td align="left" valign="top"><p>Connected App, Consumer Key</p></td><td align="left" valign="top"><p>All flows</p></td></tr><tr><td align="left" valign="top"><p>clientSecret</p></td><td align="left" valign="top"><p>Connected App, Consumer Secret</p></td><td align="left" valign="top"><p>Username-Password, Refresh Token</p></td></tr><tr><td align="left" valign="top"><p>userName</p></td><td align="left" valign="top"><p>Salesforce user username</p></td><td align="left" valign="top"><p>Username-Password, JWT Bearer Token</p></td></tr><tr><td align="left" valign="top"><p>password</p></td><td align="left" valign="top"><p>Salesforce user password</p></td><td align="left" valign="top"><p>Username-Password</p></td></tr><tr><td align="left" valign="top"><p>refreshToken</p></td><td align="left" valign="top"><p>From OAuth flow callback</p></td><td align="left" valign="top"><p>Refresh Token</p></td></tr><tr><td align="left" valign="top"><p>keystore</p></td><td align="left" valign="top"><p>Connected App, Digital Certificate</p></td><td align="left" valign="top"><p>JWT Bearer Token</p></td></tr></tbody></table></div></div><br class="table-break"><p>The component auto determines what flow you&#8217;re trying to configure, to
be remove ambiguity set the <code class="literal">authenticationType</code> property.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Using Username-Password Flow in production is not encouraged.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The certificate used in JWT Bearer Token Flow can be a selfsigned
certificate. The KeyStore holding the certificate and the private key
must contain only single certificate-private key entry.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_uri_format_166"></a>URI format</h2></div></div></div><p>When used as a consumer, receiving streaming events, the URI scheme is:</p><pre class="programlisting">salesforce:topic?options</pre><p>When used as a producer, invoking the Salesforce RSET APIs, the URI
scheme is:</p><pre class="programlisting">salesforce:operationName?options</pre><p>You can append query options to the URI in the following format,
<code class="literal">?option=value&amp;option=value&amp;&#8230;&#8203;</code></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_passing_in_salesforce_headers_and_fetching_salesforce_response_headers"></a>Passing in Salesforce headers and fetching Salesforce response headers</h2></div></div></div><p>With Camel 2.21 there is support to pass <a class="link" href="https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/headers.htm" target="_top">Salesforce headers</a>
via inbound message headers, header names that start with <code class="literal">Sforce</code> or
<code class="literal">x-sfdc</code> on the Camel message will be passed on in the request, and
response headers that start with <code class="literal">Sforce</code> will be present in the outboud
message headers.</p><p>For example to fetch API limits you can specify:</p><pre class="programlisting"><em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// in your Camel route set the header before Salesforce endpoint</em>
<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//...</em>
  .setHeader(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Sforce-Limit-Info"</em></strong>, constant(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"api-usage"</em></strong>))
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:getGlobalObjects"</em></strong>)
  .to(myProcessor);

<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// myProcessor will receive `Sforce-Limit-Info` header on the outbound</em>
<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// message</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong> MyProcessor <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">implements</strong> Processor {
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">public</strong> <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">void</strong> process(Exchange exchange) <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">throws</strong> Exception {
        Message in = exchange.getIn();
        String apiLimits = in.getHeader(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Sforce-Limit-Info"</em></strong>, String.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);
   }
}</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_supported_salesforce_apis"></a>Supported Salesforce APIs</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="salesforce-component.html#_rest_api">Rest API</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_rest_bulk_api">Rest Bulk API</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_rest_streaming_api">Rest Streaming API</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_platform_events">Platform events</a></span></dt></dl></div><p>The component supports the following Salesforce APIs</p><p>Producer endpoints can use the following APIs. Most of the APIs process
one record at a time, the Query API can retrieve multiple Records.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_rest_api"></a>Rest API</h3></div></div></div><p>You can use the following for <code class="literal">operationName</code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">getVersions - Gets supported Salesforce REST API versions</li><li class="listitem">getResources - Gets available Salesforce REST Resource endpoints</li><li class="listitem">getGlobalObjects - Gets metadata for all available SObject types</li><li class="listitem">getBasicInfo - Gets basic metadata for a specific SObject type</li><li class="listitem">getDescription - Gets comprehensive metadata for a specific SObject
type</li><li class="listitem">getSObject - Gets an SObject using its Salesforce Id</li><li class="listitem">createSObject - Creates an SObject</li><li class="listitem">updateSObject - Updates an SObject using Id</li><li class="listitem">deleteSObject - Deletes an SObject using Id</li><li class="listitem">getSObjectWithId - Gets an SObject using an external (user defined) id
field</li><li class="listitem">upsertSObject - Updates or inserts an SObject using an external id</li><li class="listitem">deleteSObjectWithId - Deletes an SObject using an external id</li><li class="listitem">query - Runs a Salesforce SOQL query</li><li class="listitem">queryMore - Retrieves more results (in case of large number of
results) using result link returned from the 'query' API</li><li class="listitem">queryAll - Runs a SOQL query. It returns the results that are deleted because of a merge or delete. Also returns the  information about archived Task and Event records.</li><li class="listitem">search - Runs a Salesforce SOSL query</li><li class="listitem">limits - fetching organization API usage limits</li><li class="listitem">recent - fetching recent items</li><li class="listitem">approval - submit a record or records (batch) for approval process</li><li class="listitem">approvals - fetch a list of all approval processes</li><li class="listitem">composite - submit up to 25 possibly related REST requests and receive individual responses</li><li class="listitem">composite-tree - create up to 200 records with parent-child relationships (up to 5 levels) in one go</li><li class="listitem">composite-batch - submit a composition of requests in batch</li><li class="listitem">getBlobField - Retrieves the specified blob field from an individual record.</li><li class="listitem">apexCall - Executes a user defined APEX REST API call.</li></ul></div><p>For example, the following producer endpoint uses the upsertSObject API,
with the sObjectIdName parameter specifying 'Name' as the external id
field.
The request message body should be an SObject DTO generated using the
maven plugin.
The response message will either be <code class="literal">null</code> if an existing record was
updated, or <code class="literal">CreateSObjectResult</code> with an id of the new record, or a
list of errors while creating the new object.</p><pre class="programlisting">...to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:upsertSObject?sObjectIdName=Name"</em></strong>)...</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_rest_bulk_api"></a>Rest Bulk API</h3></div></div></div><p>Producer endpoints can use the following APIs. All Job data formats,
i.e. xml, csv, zip/xml, and zip/csv are supported. 
 The request and response have to be marshalled/unmarshalled by the
route. Usually the request will be some stream source like a CSV file,

 and the response may also be saved to a file to be correlated with the
request.</p><p>You can use the following for <code class="literal">operationName</code>:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">createJob - Creates a Salesforce Bulk Job</li><li class="listitem">getJob - Gets a Job using its Salesforce Id</li><li class="listitem">closeJob - Closes a Job</li><li class="listitem">abortJob - Aborts a Job</li><li class="listitem">createBatch - Submits a Batch within a Bulk Job</li><li class="listitem">getBatch - Gets a Batch using Id</li><li class="listitem">getAllBatches - Gets all Batches for a Bulk Job Id</li><li class="listitem">getRequest - Gets Request data (XML/CSV) for a Batch</li><li class="listitem">getResults - Gets the results of the Batch when its complete</li><li class="listitem">createBatchQuery - Creates a Batch from an SOQL query</li><li class="listitem">getQueryResultIds - Gets a list of Result Ids for a Batch Query</li><li class="listitem">getQueryResult - Gets results for a Result Id</li><li class="listitem">getRecentReports - Gets up to 200 of the reports you most recently viewed by sending a GET request to the Report List resource.</li><li class="listitem">getReportDescription - Retrieves the report, report type, and related metadata for a report, either in a tabular or summary or matrix format.</li><li class="listitem">executeSyncReport - Runs a report synchronously with or without changing filters and returns the latest summary data.</li><li class="listitem">executeAsyncReport - Runs an instance of a report asynchronously with or without filters and returns the summary data with or without details.</li><li class="listitem">getReportInstances - Returns a list of instances for a report that you requested to be run asynchronously. Each item in the list is treated as a separate instance of the report.</li><li class="listitem">getReportResults: Contains the results of running a report.</li></ul></div><p>For example, the following producer endpoint uses the createBatch API to
create a Job Batch. The in message must contain a body that can be converted into an
<code class="literal">InputStream</code> (usually UTF-8 CSV or XML content from a file, etc.) and
header fields 'jobId' for the Job and 'contentType' for the Job content
type, which can be XML, CSV, ZIP_XML or ZIP_CSV. The put message body
will contain <code class="literal">BatchInfo</code> on success, or throw a <code class="literal">SalesforceException</code> on
error.</p><pre class="programlisting">...to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:createBatchJob"</em></strong>)..</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_rest_streaming_api"></a>Rest Streaming API</h3></div></div></div><p>Consumer endpoints can use the following sytax for streaming endpoints
to receive Salesforce notifications on create/update.</p><p>To create and subscribe to a topic</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:CamelTestTopic?notifyForFields=ALL&amp;notifyForOperations=ALL&amp;sObjectName=Merchandise__c&amp;updateTopic=true&amp;sObjectQuery=SELECT Id, Name FROM Merchandise__c"</em></strong>)...</pre><p>To subscribe to an existing topic</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:CamelTestTopic&amp;sObjectName=Merchandise__c"</em></strong>)...</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_platform_events"></a>Platform events</h3></div></div></div><p>To emit a platform event use <code class="literal">createSObject</code> operation. And set the
message body can be JSON string or InputStream with key-value data&#8201;&#8212;&#8201;in that case <code class="literal">sObjectName</code> needs to be set to the API name of the
event, or a class that extends from AbstractDTOBase with the
appropriate class name for the event.</p><p>For example using a DTO:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong> Order_Event__e <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">extends</strong> AbstractDTOBase {
  <em xmlns="http://www.w3.org/1999/xhtml"><span class="hl-annotation" style="color: gray">@JsonProperty("OrderNumber")</span></em>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">private</strong> String orderNumber;
  <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// ... other properties and getters/setters</em>
}

from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"timer:tick"</em></strong>)
    .process(exchange -&gt; {
        <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Message in = exchange.getIn();
        String orderNumber = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"ORD"</em></strong> + String.valueOf(in.getHeader(Exchange.TIMER_COUNTER));
        Order_Event__e event = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> Order_Event__e();
        event.setOrderNumber(orderNumber);
        in.setBody(event);
    })
    .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:createSObject"</em></strong>);</pre><p>Or using JSON event data:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"timer:tick"</em></strong>)
    .process(exchange -&gt; {
        <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Message in = exchange.getIn();
        String orderNumber = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"ORD"</em></strong> + String.valueOf(in.getHeader(Exchange.TIMER_COUNTER));
        in.setBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"{\"OrderNumber\":\""</em></strong> + orderNumber + <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"\"}"</em></strong>);
    })
    .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:createSObject?sObjectName=Order_Event__e"</em></strong>);</pre><p>To receive platform events use the consumer endpoint with the API name of
the platform event prefixed with <code class="literal">event/</code> (or <code class="literal">/event/</code>), e.g.:
<code class="literal">salesforce:events/Order_Event__e</code>. Processor consuming from that
endpoint will receive either <code class="literal">org.apache.camel.component.salesforce.api.dto.PlatformEvent</code>
object or <code class="literal">org.cometd.bayeux.Message</code> in the body depending on the
<code class="literal">rawPayload</code> being <code class="literal">false</code> or <code class="literal">true</code> respectively.</p><p>For example, in the simplest form to consume one event:</p><pre class="programlisting">PlatformEvent event = consumer.receiveBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:event/Order_Event__e"</em></strong>, PlatformEvent.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_examples_27"></a>Examples</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="salesforce-component.html#_uploading_a_document_to_a_contentworkspace">Uploading a document to a ContentWorkspace</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_uploading_a_document_to_a_contentworkspace"></a>Uploading a document to a ContentWorkspace</h3></div></div></div><p>Create the ContentVersion in Java, using a Processor instance:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">public</strong> <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong> ContentProcessor <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">implements</strong> Processor {
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">public</strong> <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">void</strong> process(Exchange exchange) <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">throws</strong> Exception {
        Message message = exchange.getIn();

        ContentVersion cv = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> ContentVersion();
        ContentWorkspace cw = getWorkspace(exchange);
        cv.setFirstPublishLocationId(cw.getId());
        cv.setTitle(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"test document"</em></strong>);
        cv.setPathOnClient(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"test_doc.html"</em></strong>);
        <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">byte</strong>[] document = message.getBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">byte</strong>[].<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);
        ObjectMapper mapper = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> ObjectMapper();
        String enc = mapper.convertValue(document, String.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);
        cv.setVersionDataUrl(enc);
        message.setBody(cv);
    }

    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">protected</strong> ContentWorkspace getWorkSpace(Exchange exchange) {
        <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// Look up the content workspace somehow, maybe use enrich() to add it to a</em>
        <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// header that can be extracted here</em>
        ....
    }
}</pre><p>Give the output from the processor to the Salesforce component:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"file:///home/camel/library"</em></strong>)
    .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> ContentProcessor())     <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// convert bytes from the file into a ContentVersion SObject</em>
                                    <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// for the salesforce component</em>
    .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:createSObject"</em></strong>);</pre></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_using_salesforce_limits_api"></a>Using Salesforce Limits API</h2></div></div></div><p>With <code class="literal">salesforce:limits</code> operation you can fetch of API limits from Salesforce and then act upon that data received.
The result of <code class="literal">salesforce:limits</code> operation is mapped to <code class="literal">org.apache.camel.component.salesforce.api.dto.Limits</code>
class and can be used in a custom processors or expressions.</p><p>For instance, consider that you need to limit the API usage of Salesforce so that 10% of daily API requests is left for
other routes. The body of output message contains an instance of
<code class="literal">org.apache.camel.component.salesforce.api.dto.Limits</code> object that can be used in conjunction with
Content Based Router and Content Based Router and
<a class="link" href="spel-language.html" title="SpEL Language">Spring Expression Language (SpEL)</a> to choose when to perform queries.</p><p>Notice how multiplying <code class="literal">1.0</code> with the integer value held in <code class="literal">body.dailyApiRequests.remaining</code> makes the expression
evaluate as with floating point arithmetic, without it - it would end up making integral division which would result
with either <code class="literal">0</code> (some API limits consumed) or <code class="literal">1</code> (no API limits consumed).</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:querySalesforce"</em></strong>)
    .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:limits"</em></strong>)
    .choice()
    .when(spel(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"#{1.0 * body.dailyApiRequests.remaining / body.dailyApiRequests.max &lt; 0.1}"</em></strong>))
        .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:query?..."</em></strong>)
    .otherwise()
        .setBody(constant(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Used up Salesforce API limits, leaving 10% for critical routes"</em></strong>))
    .endChoice()</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_working_with_approvals"></a>Working with approvals</h2></div></div></div><p>All the properties are named exactly the same as in the Salesforce REST API prefixed with <code class="literal">approval.</code>. You can set
approval properties by setting <code class="literal">approval.PropertyName</code> of the Endpoint these will be used as template&#8201;&#8212;&#8201;meaning
that any property not present in either body or header will be taken from the Endpoint configuration. Or you can set
the approval template on the Endpoint by assigning <code class="literal">approval</code> property to a reference onto a bean in the Registry.</p><p>You can also provide header values using the same <code class="literal">approval.PropertyName</code> in the incoming message headers.</p><p>And finally body can contain one <code class="literal">AprovalRequest</code> or an <code class="literal">Iterable</code> of <code class="literal">ApprovalRequest</code> objects to process as
a batch.</p><p>The important thing to remember is the priority of the values specified in these three mechanisms:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">value in body takes precedence before any other</li><li class="listitem">value in message header takes precedence before template value</li><li class="listitem">value in template is set if no other value in header or body was given</li></ol></div><p>For example to send one record for approval using values in headers use:</p><p>Given a route:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:example1"</em></strong>)<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
        .setHeader(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"approval.ContextId"</em></strong>, simple(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"${body['contextId']}"</em></strong>))
        .setHeader(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"approval.NextApproverIds"</em></strong>, simple(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"${body['nextApproverIds']}"</em></strong>))
        .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:approval?"</em></strong><em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
            + <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"approval.actionType=Submit"</em></strong><em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
            + <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"&amp;approval.comments=this is a test"</em></strong><em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
            + <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"&amp;approval.processDefinitionNameOrId=Test_Account_Process"</em></strong><em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
            + <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"&amp;approval.skipEntryCriteria=true"</em></strong>);</pre><p>You could send a record for approval using:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Map&lt;String, String&gt; body = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> HashMap&lt;&gt;();
body.put(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"contextId"</em></strong>, accountIds.iterator().next());
body.put(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"nextApproverIds"</em></strong>, userId);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> ApprovalResult result = template.requestBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:example1"</em></strong>, body, ApprovalResult.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_using_salesforce_recent_items_api"></a>Using Salesforce Recent Items API</h2></div></div></div><p>To fetch the recent items use <code class="literal">salesforce:recent</code> operation. This operation returns an <code class="literal">java.util.List</code> of
<code class="literal">org.apache.camel.component.salesforce.api.dto.RecentItem</code> objects (<code class="literal">List&lt;RecentItem&gt;</code>) that in turn contain
the <code class="literal">Id</code>, <code class="literal">Name</code> and <code class="literal">Attributes</code> (with <code class="literal">type</code> and <code class="literal">url</code> properties). You can limit the number of returned items
by specifying <code class="literal">limit</code> parameter set to maximum number of records to return. For example:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:fetchRecentItems"</em></strong>)
    to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:recent"</em></strong>)
        .split().body()
            .log(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"${body.name} at ${body.attributes.url}"</em></strong>);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_working_with_approvals_2"></a>Working with approvals</h2></div></div></div><p>All the properties are named exactly the same as in the Salesforce REST API prefixed with <code class="literal">approval.</code>. You can set
approval properties by setting <code class="literal">approval.PropertyName</code> of the Endpoint these will be used as template&#8201;&#8212;&#8201;meaning
that any property not present in either body or header will be taken from the Endpoint configuration. Or you can set
the approval template on the Endpoint by assigning <code class="literal">approval</code> property to a reference onto a bean in the Registry.</p><p>You can also provide header values using the same <code class="literal">approval.PropertyName</code> in the incoming message headers.</p><p>And finally body can contain one <code class="literal">AprovalRequest</code> or an <code class="literal">Iterable</code> of <code class="literal">ApprovalRequest</code> objects to process as
a batch.</p><p>The important thing to remember is the priority of the values specified in these three mechanisms:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">value in body takes precedence before any other</li><li class="listitem">value in message header takes precedence before template value</li><li class="listitem">value in template is set if no other value in header or body was given</li></ol></div><p>For example to send one record for approval using values in headers use:</p><p>Given a route:</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:example1"</em></strong>)<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
        .setHeader(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"approval.ContextId"</em></strong>, simple(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"${body['contextId']}"</em></strong>))
        .setHeader(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"approval.NextApproverIds"</em></strong>, simple(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"${body['nextApproverIds']}"</em></strong>))
        .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:approval?"</em></strong><em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
            + <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"approvalActionType=Submit"</em></strong><em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
            + <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"&amp;approvalComments=this is a test"</em></strong><em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
            + <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"&amp;approvalProcessDefinitionNameOrId=Test_Account_Process"</em></strong><em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">//</em>
            + <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"&amp;approvalSkipEntryCriteria=true"</em></strong>);</pre><p>You could send a record for approval using:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Map&lt;String, String&gt; body = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> HashMap&lt;&gt;();
body.put(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"contextId"</em></strong>, accountIds.iterator().next());
body.put(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"nextApproverIds"</em></strong>, userId);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> ApprovalResult result = template.requestBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:example1"</em></strong>, body, ApprovalResult.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_using_salesforce_composite_api_to_submit_sobject_tree"></a>Using Salesforce Composite API to submit SObject tree</h2></div></div></div><p>To create up to 200 records including parent-child relationships use <code class="literal">salesforce:composite-tree</code> operation. This
requires an instance of <code class="literal">org.apache.camel.component.salesforce.api.dto.composite.SObjectTree</code> in the input
message and returns the same tree of objects in the output message. The
<code class="literal">org.apache.camel.component.salesforce.api.dto.AbstractSObjectBase</code> instances within the tree get updated with
the identifier values (<code class="literal">Id</code> property) or their corresponding
<code class="literal">org.apache.camel.component.salesforce.api.dto.composite.SObjectNode</code> is populated with <code class="literal">errors</code> on failure.</p><p>Note that for some records operation can succeed and for some it can fail&#8201;&#8212;&#8201;so you need to manually check for errors.</p><p>Easiest way to use this functionality is to use the DTOs generated by the <code class="literal">camel-salesforce-maven-plugin</code>, but you
also have the option of customizing the references that identify the each object in the tree, for instance primary keys
from your database.</p><p>Lets look at an example:</p><pre class="programlisting">Account account = ...
Contact president = ...
Contact marketing = ...

Account anotherAccount = ...
Contact sales = ...
Asset someAsset = ...

<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// build the tree</em>
SObjectTree request = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> SObjectTree();
request.addObject(account).addChildren(president, marketing);
request.addObject(anotherAccount).addChild(sales).addChild(someAsset);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectTree response = template.requestBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:composite-tree"</em></strong>, tree, SObjectTree.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Map&lt;Boolean, List&lt;SObjectNode&gt;&gt; result = response.allNodes()
                                                   .collect(Collectors.groupingBy(SObjectNode::hasErrors));

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> List&lt;SObjectNode&gt; withErrors = result.get(true);
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> List&lt;SObjectNode&gt; succeeded = result.get(false);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> String firstId = succeeded.get(<span xmlns="http://www.w3.org/1999/xhtml" class="hl-number">0</span>).getId();</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_using_salesforce_composite_api_to_submit_multiple_requests_in_a_batch"></a>Using Salesforce Composite API to submit multiple requests in a batch</h2></div></div></div><p>The Composite API batch operation (<code class="literal">composite-batch</code>) allows you to accumulate multiple requests in a batch and then
submit them in one go, saving the round trip cost of multiple individual requests. Each response is then received in a
list of responses with the order preserved, so that the n-th requests response is in the n-th place of the response.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The results can vary from API to API so the result of the request is given as a <code class="literal">java.lang.Object</code>. In most cases
the result will be a <code class="literal">java.util.Map</code> with string keys and values or other <code class="literal">java.util.Map</code> as value. Requests made in
JSON format hold some type information (i.e. it is known what values are strings and what values are numbers), so in
general those will be more type friendly. Note that the responses will vary between XML and JSON, this is due to the
responses from Salesforce API being different. So be careful if you switch between formats without changing the response
handling code.</p></td></tr></table></div><p>Lets look at an example:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> String acountId = ...
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectBatch batch = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> SObjectBatch(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"38.0"</em></strong>);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Account updates = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> Account();
updates.setName(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"NewName"</em></strong>);
batch.addUpdate(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Account"</em></strong>, accountId, updates);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Account newAccount = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> Account();
newAccount.setName(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Account created from Composite batch API"</em></strong>);
batch.addCreate(newAccount);

batch.addGet(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Account"</em></strong>, accountId, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Name"</em></strong>, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"BillingPostalCode"</em></strong>);

batch.addDelete(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Account"</em></strong>, accountId);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectBatchResponse response = template.requestBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:composite-batch?format=JSON"</em></strong>, batch, SObjectBatchResponse.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">boolean</strong> hasErrors = response.hasErrors(); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// if any of the requests has resulted in either 4xx or 5xx HTTP status</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> List&lt;SObjectBatchResult&gt; results = response.getResults(); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// results of three operations sent in batch</em>

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectBatchResult updateResult = results.get(<span xmlns="http://www.w3.org/1999/xhtml" class="hl-number">0</span>); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// update result</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">int</strong> updateStatus = updateResult.getStatusCode(); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// probably 204</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Object updateResultData = updateResult.getResult(); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// probably null</em>

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectBatchResult createResult = results.get(<span xmlns="http://www.w3.org/1999/xhtml" class="hl-number">1</span>); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// create result</em>
<em xmlns="http://www.w3.org/1999/xhtml"><span class="hl-annotation" style="color: gray">@SuppressWarnings("unchecked")</span></em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Map&lt;String, Object&gt; createData = (Map&lt;String, Object&gt;) createResult.getResult();
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> String newAccountId = createData.get(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"id"</em></strong>); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// id of the new account, this is for JSON, for XML it would be createData.get("Result").get("id")</em>

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectBatchResult retrieveResult = results.get(<span xmlns="http://www.w3.org/1999/xhtml" class="hl-number">2</span>); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// retrieve result</em>
<em xmlns="http://www.w3.org/1999/xhtml"><span class="hl-annotation" style="color: gray">@SuppressWarnings("unchecked")</span></em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Map&lt;String, Object&gt; retrieveData = (Map&lt;String, Object&gt;) retrieveResult.getResult();
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> String accountName = retrieveData.get(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Name"</em></strong>); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// Name of the retrieved account, this is for JSON, for XML it would be createData.get("Account").get("Name")</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> String accountBillingPostalCode = retrieveData.get(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"BillingPostalCode"</em></strong>); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// Name of the retrieved account, this is for JSON, for XML it would be createData.get("Account").get("BillingPostalCode")</em>

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectBatchResult deleteResult = results.get(<span xmlns="http://www.w3.org/1999/xhtml" class="hl-number">3</span>); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// delete result</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">int</strong> updateStatus = deleteResult.getStatusCode(); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// probably 204</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Object updateResultData = deleteResult.getResult(); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// probably null</em></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_using_salesforce_composite_api_to_submit_multiple_chained_requests"></a>Using Salesforce Composite API to submit multiple chained requests</h2></div></div></div><p>The <code class="literal">composite</code> operation allows submitting up to 25 requests that can be chained together, for instance identifier
generated in previous request can be used in subsequent request. Individual requests and responses are linked with the
provided <span class="emphasis"><em>reference</em></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Composite API supports only JSON payloads.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>As with the batch API the results can vary from API to API so the result of the request is given as a
<code class="literal">java.lang.Object</code>. In most cases the result will be a <code class="literal">java.util.Map</code> with string keys and values or other
<code class="literal">java.util.Map</code> as value. Requests made in JSON format hold some type information (i.e. it is known what values are
strings and what values are numbers), so in general those will be more type friendly.</p></td></tr></table></div><p>Lets look at an example:</p><pre class="programlisting">SObjectComposite composite = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> SObjectComposite(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"38.0"</em></strong>, true);

<em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// first insert operation via an external id</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Account updateAccount = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> TestAccount();
updateAccount.setName(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Salesforce"</em></strong>);
updateAccount.setBillingStreet(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Landmark @ 1 Market Street"</em></strong>);
updateAccount.setBillingCity(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"San Francisco"</em></strong>);
updateAccount.setBillingState(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"California"</em></strong>);
updateAccount.setIndustry(Account_IndustryEnum.TECHNOLOGY);
composite.addUpdate(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"Account"</em></strong>, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"001xx000003DIpcAAG"</em></strong>, updateAccount, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"UpdatedAccount"</em></strong>);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Contact newContact = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> TestContact();
newContact.setLastName(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"John Doe"</em></strong>);
newContact.setPhone(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"1234567890"</em></strong>);
composite.addCreate(newContact, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"NewContact"</em></strong>);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> AccountContactJunction__c junction = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> AccountContactJunction__c();
junction.setAccount__c(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"001xx000003DIpcAAG"</em></strong>);
junction.setContactId__c(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"@{NewContact.id}"</em></strong>);
composite.addCreate(junction, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"JunctionRecord"</em></strong>);

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectCompositeResponse response = template.requestBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"salesforce:composite?format=JSON"</em></strong>, composite, SObjectCompositeResponse.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> List&lt;SObjectCompositeResult&gt; results = response.getCompositeResponse();

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectCompositeResult accountUpdateResult = results.stream().filter(r -&gt; <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"UpdatedAccount"</em></strong>.equals(r.getReferenceId())).findFirst().get()
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">int</strong> statusCode = accountUpdateResult.getHttpStatusCode(); <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">// should be 200</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> Map&lt;String, ?&gt; accountUpdateBody = accountUpdateResult.getBody();

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">final</strong> SObjectCompositeResult contactCreationResult = results.stream().filter(r -&gt; <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"JunctionRecord"</em></strong>.equals(r.getReferenceId())).findFirst().get()</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_camel_salesforce_maven_plugin"></a>Camel Salesforce Maven Plugin</h2></div></div></div><p>This Maven plugin generates DTOs for the Camel
<a class="link" href="salesforce-component.html" title="Salesforce Component">Salesforce</a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_options_127"></a>Options</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="salesforce-component.html#_path_parameters_2_parameters_41">Path Parameters (2 parameters):</a></span></dt><dt><span class="section"><a href="salesforce-component.html#_query_parameters_44_parameters">Query Parameters (44 parameters):</a></span></dt></dl></div><p>The Salesforce component supports 29 options which are listed below.</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>authenticationType</strong></span> (security)</p></td><td align="left" valign="top"><p>Explicit authentication method to be used, one of USERNAME_PASSWORD, REFRESH_TOKEN or JWT. Salesforce component can auto-determine the authentication method to use from the properties set, set this property to eliminate any ambiguity.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>AuthenticationType</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>loginConfig</strong></span> (security)</p></td><td align="left" valign="top"><p>All authentication configuration in one nested bean, all properties set there can be set directly on the component as well</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>SalesforceLoginConfig</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>instanceUrl</strong></span> (security)</p></td><td align="left" valign="top"><p>URL of the Salesforce instance used after authantication, by default received from Salesforce on successful authentication</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>loginUrl</strong></span> (security)</p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> URL of the Salesforce instance used for authentication, by default set to <a class="link" href="https://login.salesforce.com" target="_top">https://login.salesforce.com</a></p></td><td align="center" valign="top"><p><a class="link" href="https://login.salesforce.com" target="_top">https://login.salesforce.com</a></p></td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>clientId</strong></span> (security)</p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> OAuth Consumer Key of the connected app configured in the Salesforce instance setup. Typically a connected app needs to be configured but one can be provided by installing a package.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>clientSecret</strong></span> (security)</p></td><td align="left" valign="top"><p>OAuth Consumer Secret of the connected app configured in the Salesforce instance setup.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>keystore</strong></span> (security)</p></td><td align="left" valign="top"><p>KeyStore parameters to use in OAuth JWT flow. The KeyStore should contain only one entry with private key and certificate. Salesforce does not verify the certificate chain, so this can easily be a selfsigned certificate. Make sure that you upload the certificate to the corresponding connected app.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>KeyStoreParameters</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>refreshToken</strong></span> (security)</p></td><td align="left" valign="top"><p>Refresh token already obtained in the refresh token OAuth flow. One needs to setup a web application and configure a callback URL to receive the refresh token, or configure using the builtin callback at <a class="link" href="https://login.salesforce.com/services/oauth2/success" target="_top">https://login.salesforce.com/services/oauth2/success</a> or <a class="link" href="https://test.salesforce.com/services/oauth2/success" target="_top">https://test.salesforce.com/services/oauth2/success</a> and then retrive the refresh_token from the URL at the end of the flow. Note that in development organizations Salesforce allows hosting the callback web application at localhost.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>userName</strong></span> (security)</p></td><td align="left" valign="top"><p>Username used in OAuth flow to gain access to access token. It&#8217;s easy to get started with password OAuth flow, but in general one should avoid it as it is deemed less secure than other flows.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>password</strong></span> (security)</p></td><td align="left" valign="top"><p>Password used in OAuth flow to gain access to access token. It&#8217;s easy to get started with password OAuth flow, but in general one should avoid it as it is deemed less secure than other flows. Make sure that you append security token to the end of the password if using one.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>lazyLogin</strong></span> (security)</p></td><td align="left" valign="top"><p>If set to true prevents the component from authenticating to Salesforce with the start of the component. You would generaly set this to the (default) false and authenticate early and be immediately aware of any authentication issues.</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>config</strong></span> (common)</p></td><td align="left" valign="top"><p>Global endpoint configuration - use to set values that are common to all endpoints</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>SalesforceEndpoint Config</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpClientProperties</strong></span> (common)</p></td><td align="left" valign="top"><p>Used to set any properties that can be configured on the underlying HTTP client. Have a look at properties of SalesforceHttpClient and the Jetty HttpClient for all available options.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Map</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>longPollingTransport Properties</strong></span> (common)</p></td><td align="left" valign="top"><p>Used to set any properties that can be configured on the LongPollingTransport used by the BayeuxClient (CometD) used by the streaming api</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Map</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sslContextParameters</strong></span> (security)</p></td><td align="left" valign="top"><p>SSL parameters to use, see SSLContextParameters class for all available options.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>SSLContextParameters</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>useGlobalSslContext Parameters</strong></span> (security)</p></td><td align="left" valign="top"><p>Enable usage of global SSL context parameters</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpProxyHost</strong></span> (proxy)</p></td><td align="left" valign="top"><p>Hostname of the HTTP proxy server to use.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpProxyPort</strong></span> (proxy)</p></td><td align="left" valign="top"><p>Port number of the HTTP proxy server to use.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Integer</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpProxyUsername</strong></span> (security)</p></td><td align="left" valign="top"><p>Username to use to authenticate against the HTTP proxy server.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpProxyPassword</strong></span> (security)</p></td><td align="left" valign="top"><p>Password to use to authenticate against the HTTP proxy server.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>isHttpProxySocks4</strong></span> (proxy)</p></td><td align="left" valign="top"><p>If set to true the configures the HTTP proxy to use as a SOCKS4 proxy.</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>isHttpProxySecure</strong></span> (security)</p></td><td align="left" valign="top"><p>If set to false disables the use of TLS when accessing the HTTP proxy.</p></td><td align="center" valign="top"><p>true</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpProxyIncluded Addresses</strong></span> (proxy)</p></td><td align="left" valign="top"><p>A list of addresses for which HTTP proxy server should be used.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Set</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpProxyExcluded Addresses</strong></span> (proxy)</p></td><td align="left" valign="top"><p>A list of addresses for which HTTP proxy server should not be used.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Set</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpProxyAuthUri</strong></span> (security)</p></td><td align="left" valign="top"><p>Used in authentication against the HTTP proxy server, needs to match the URI of the proxy server in order for the httpProxyUsername and httpProxyPassword to be used for authentication.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpProxyRealm</strong></span> (security)</p></td><td align="left" valign="top"><p>Realm of the proxy server, used in preemptive Basic/Digest authentication methods against the HTTP proxy server.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpProxyUseDigest Auth</strong></span> (security)</p></td><td align="left" valign="top"><p>If set to true Digest authentication will be used when authenticating to the HTTP proxy,otherwise Basic authorization method will be used</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>packages</strong></span> (common)</p></td><td align="left" valign="top"><p>In what packages are the generated DTO classes. Typically the classes would be generated using camel-salesforce-maven-plugin. Set it if using the generated DTOs to gain the benefit of using short SObject names in parameters/header values.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String[]</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>resolveProperty Placeholders</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Whether the component should resolve property placeholders on itself when starting. Only properties which are of String type can use property placeholders.</p></td><td align="center" valign="top"><p>true</p></td><td align="left" valign="top"><p>boolean</p></td></tr></tbody></table></div><p>The Salesforce endpoint is configured using URI syntax:</p><pre class="screen">salesforce:operationName:topicName</pre><p>with the following path and query parameters:</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_path_parameters_2_parameters_41"></a>Path Parameters (2 parameters):</h3></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>operationName</strong></span></p></td><td align="left" valign="top"><p>The operation to use</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>OperationName</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>topicName</strong></span></p></td><td align="left" valign="top"><p>The name of the topic to use</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_query_parameters_44_parameters"></a>Query Parameters (44 parameters):</h3></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>apexMethod</strong></span> (common)</p></td><td align="left" valign="top"><p>APEX method name</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>apexQueryParams</strong></span> (common)</p></td><td align="left" valign="top"><p>Query params for APEX method</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Map</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>apexUrl</strong></span> (common)</p></td><td align="left" valign="top"><p>APEX method URL</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>apiVersion</strong></span> (common)</p></td><td align="left" valign="top"><p>Salesforce API version, defaults to SalesforceEndpointConfig.DEFAULT_VERSION</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>backoffIncrement</strong></span> (common)</p></td><td align="left" valign="top"><p>Backoff interval increment for Streaming connection restart attempts for failures beyond CometD auto-reconnect.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>long</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>batchId</strong></span> (common)</p></td><td align="left" valign="top"><p>Bulk API Batch ID</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>contentType</strong></span> (common)</p></td><td align="left" valign="top"><p>Bulk API content type, one of XML, CSV, ZIP_XML, ZIP_CSV</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ContentType</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>defaultReplayId</strong></span> (common)</p></td><td align="left" valign="top"><p>Default replayId setting if no value is found in link initialReplayIdMap</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Long</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>format</strong></span> (common)</p></td><td align="left" valign="top"><p>Payload format to use for Salesforce API calls, either JSON or XML, defaults to JSON</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>PayloadFormat</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>httpClient</strong></span> (common)</p></td><td align="left" valign="top"><p>Custom Jetty Http Client to use to connect to Salesforce.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>SalesforceHttpClient</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>includeDetails</strong></span> (common)</p></td><td align="left" valign="top"><p>Include details in Salesforce1 Analytics report, defaults to false.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>initialReplayIdMap</strong></span> (common)</p></td><td align="left" valign="top"><p>Replay IDs to start from per channel name.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Map</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>instanceId</strong></span> (common)</p></td><td align="left" valign="top"><p>Salesforce1 Analytics report execution instance ID</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>jobId</strong></span> (common)</p></td><td align="left" valign="top"><p>Bulk API Job ID</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>limit</strong></span> (common)</p></td><td align="left" valign="top"><p>Limit on number of returned records. Applicable to some of the API, check the Salesforce documentation.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Integer</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>maxBackoff</strong></span> (common)</p></td><td align="left" valign="top"><p>Maximum backoff interval for Streaming connection restart attempts for failures beyond CometD auto-reconnect.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>long</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>notFoundBehaviour</strong></span> (common)</p></td><td align="left" valign="top"><p>Sets the behaviour of 404 not found status received from Salesforce API. Should the body be set to NULL link NotFoundBehaviourNULL or should a exception be signaled on the exchange link NotFoundBehaviourEXCEPTION - the default.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>NotFoundBehaviour</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>notifyForFields</strong></span> (common)</p></td><td align="left" valign="top"><p>Notify for fields, options are ALL, REFERENCED, SELECT, WHERE</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>NotifyForFieldsEnum</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>notifyForOperationCreate</strong></span> (common)</p></td><td align="left" valign="top"><p>Notify for create operation, defaults to false (API version = 29.0)</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>notifyForOperationDelete</strong></span> (common)</p></td><td align="left" valign="top"><p>Notify for delete operation, defaults to false (API version = 29.0)</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>notifyForOperations</strong></span> (common)</p></td><td align="left" valign="top"><p>Notify for operations, options are ALL, CREATE, EXTENDED, UPDATE (API version 29.0)</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>NotifyForOperations Enum</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>notifyForOperationUndelete</strong></span> (common)</p></td><td align="left" valign="top"><p>Notify for un-delete operation, defaults to false (API version = 29.0)</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>notifyForOperationUpdate</strong></span> (common)</p></td><td align="left" valign="top"><p>Notify for update operation, defaults to false (API version = 29.0)</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>objectMapper</strong></span> (common)</p></td><td align="left" valign="top"><p>Custom Jackson ObjectMapper to use when serializing/deserializing Salesforce objects.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ObjectMapper</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>rawPayload</strong></span> (common)</p></td><td align="left" valign="top"><p>Use raw payload String for request and response (either JSON or XML depending on format), instead of DTOs, false by default</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>reportId</strong></span> (common)</p></td><td align="left" valign="top"><p>Salesforce1 Analytics report Id</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>reportMetadata</strong></span> (common)</p></td><td align="left" valign="top"><p>Salesforce1 Analytics report metadata for filtering</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ReportMetadata</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>resultId</strong></span> (common)</p></td><td align="left" valign="top"><p>Bulk API Result ID</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>serializeNulls</strong></span> (common)</p></td><td align="left" valign="top"><p>Should the NULL values of given DTO be serialized with empty (NULL) values. This affects only JSON data format.</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sObjectBlobFieldName</strong></span> (common)</p></td><td align="left" valign="top"><p>SObject blob field name</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sObjectClass</strong></span> (common)</p></td><td align="left" valign="top"><p>Fully qualified SObject class name, usually generated using camel-salesforce-maven-plugin</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sObjectFields</strong></span> (common)</p></td><td align="left" valign="top"><p>SObject fields to retrieve</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sObjectId</strong></span> (common)</p></td><td align="left" valign="top"><p>SObject ID if required by API</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sObjectIdName</strong></span> (common)</p></td><td align="left" valign="top"><p>SObject external ID field name</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sObjectIdValue</strong></span> (common)</p></td><td align="left" valign="top"><p>SObject external ID field value</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sObjectName</strong></span> (common)</p></td><td align="left" valign="top"><p>SObject name if required or supported by API</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sObjectQuery</strong></span> (common)</p></td><td align="left" valign="top"><p>Salesforce SOQL query string</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sObjectSearch</strong></span> (common)</p></td><td align="left" valign="top"><p>Salesforce SOSL search string</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>updateTopic</strong></span> (common)</p></td><td align="left" valign="top"><p>Whether to update an existing Push Topic when using the Streaming API, defaults to false</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>bridgeErrorHandler</strong></span> (consumer)</p></td><td align="left" valign="top"><p>Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>replayId</strong></span> (consumer)</p></td><td align="left" valign="top"><p>The replayId value to use when subscribing</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>Long</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>exceptionHandler</strong></span> (consumer)</p></td><td align="left" valign="top"><p>To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this options is not in use. By default the consumer will deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ExceptionHandler</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>exchangePattern</strong></span> (consumer)</p></td><td align="left" valign="top"><p>Sets the exchange pattern when the consumer creates an exchange.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ExchangePattern</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>synchronous</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Sets whether synchronous processing should be strictly used, or Camel is allowed to use asynchronous processing (if supported).</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr></tbody></table></div><p>For obvious security reasons it is recommended that the clientId,
clientSecret, userName and password fields be not set in the pom.xml.
The plugin should be configured for the rest of the properties, and can
be executed using the following command:</p><pre class="programlisting">mvn camel-salesforce:generate -DcamelSalesforce.clientId=&lt;clientid&gt; -DcamelSalesforce.clientSecret=&lt;clientsecret&gt; \
    -DcamelSalesforce.userName=&lt;username&gt; -DcamelSalesforce.password=&lt;password&gt;</pre><p>The generated DTOs use Jackson and XStream annotations. All Salesforce
field types are supported. Date and time fields are mapped to Joda
DateTime, and picklist fields are mapped to generated Java Enumerations.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_see_also_111"></a>See Also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Configuring Camel</li><li class="listitem">Component</li><li class="listitem">Endpoint</li><li class="listitem">Getting Started</li></ul></div></div></div></body></html>