<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Creating a new Apache Camel JUnit test case</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="RiderDevPart.html" title="Part&nbsp;II.&nbsp;Developing Applications"><link rel="prev" href="RiderEditSource.html" title="The Source View"><link rel="next" href="RiderRunning.html" title="Running routes inside Red Hat JBoss Fuse Tooling"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="newCamelTestCase"></a>Creating a new Apache Camel JUnit test case</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2647"></a>Overview</h2></div></div></div><p>A common way of testing routes is to use JUnit. The design time tooling includes a
            wizard that simplifies creating a JUnit test case for your routes. The wizard uses the
            endpoints you specify to generate the starting point code and configuration for the
            test.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>After you create the boilerplate JUnit test case, you need to modify it to add
                expectations and assertions specific to the route that you've created or modified,
                so the test is valid for the route.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2655"></a>Prerequisites</h2></div></div></div><p>Before you create a new JUnit test case, you need to perform a preliminary
            task:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If you are replacing an existing JUnit test case, you need to delete it before you create a
                new one. See <a class="xref" href="newCamelTestCase.html#ugDeleteJUnitFile" title="Deleting and existing JUnit test case">Deleting and existing JUnit test case</a>.</p></li><li class="listitem"><p>If you are creating a new JUnit test case in a project that hasn't one, you need to first
                    create the <em class="replaceable"><code>project_root</code></em><code class="code">/src/test/java</code>
                    folder for the test case that is included in the build path. See <a class="xref" href="newCamelTestCase.html#ugAddTestJavaFolder" title="Creating and adding the src/test/java folder to the build path">Creating and adding the <code class="code">src/test/java</code> folder to the build path</a>.</p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ugDeleteJUnitFile"></a>Deleting and existing JUnit test case</h2></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">Project Explorer</span>, expand the project's root node to
                expose the <em class="replaceable"><code>&lt;root_project&gt;</code></em><code class="code">/src/test/java</code>
                folder.</p></li><li class="step"><p>Locate the JUnit test case file in the <code class="code">/src/test/java</code>
                    folder.</p><p>Depending on which DSL the project is based on, the JUnit test case file is
                    named <code class="filename">BlueprintXmlTest.java</code> or
                        <code class="filename">CamelContextXmlTest.java</code>.</p></li><li class="step"><p>Right-click the JUnit test case <code class="code">.java</code> file to open the context menu, and then
                select <span class="guimenuitem">Delete</span>.</p><p>The JUnit test case <code class="code">.java</code> file disappears from <span class="guilabel">Project
                        Explorer</span>.</p><p>You can now <a class="link" href="newCamelTestCase.html#ugCreateJUnitTest" title="Creating a JUnit test case">create a new JUnit test case</a>.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ugAddTestJavaFolder"></a>Creating and adding the <code class="code">src/test/java</code> folder to the build path</h2></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">Project Explorer</span>, right-click the project's
                    root to open the context menu.</p></li><li class="step"><p>Select <span class="guimenu">New</span> &gt; <span class="guimenuitem">Folder</span> to open the <span class="guilabel">Create a new folder resource</span> wizard.</p></li><li class="step"><p>In the wizard's project tree pane, expand the project's root node and select
                    the <code class="filename">src</code> folder.</p><p>Make sure <em class="replaceable"><code>&lt;project_root&gt;</code></em><code class="code">/src</code> appears in the <span class="guilabel">Enter or
                    select the parent folder</span>
                    field.</p></li><li class="step"><p>In <span class="guilabel">Folder name</span>, enter <strong class="userinput"><code>/test/java</code></strong>.
                    This folder will store the new JUnit test case you create.</p></li><li class="step"><p>Click <span class="guibutton">Finish</span>.</p><p>In <span class="guilabel">Project Explorer</span>, the new
                        <code class="filename">src/test/java</code> folder appears under the
                        <code class="filename">src/main/resources</code> folder. You can verify that this
                    folder is on the class path by opening its context menu and selecting
                        <span class="guimenuitem">Build Path</span>. If <span class="guimenuitem">Remove from Build
                        Path</span> is a menu option, you know the
                        <code class="filename">src/test/java</code> folder is on the class path.</p><p>You can now <a class="link" href="newCamelTestCase.html#ugCreateJUnitTest" title="Creating a JUnit test case">create a new JUnit test case</a>.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ugCreateJUnitTest"></a>Creating a JUnit test case</h2></div></div></div><p>To create a new JUnit test case for your route:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In <span class="guilabel">Project Explorer</span>, select the routing context
                    <code class="literal">.xml</code> file
                    in your project.</p></li><li class="step"><p>Right-click it to open the context menu, and then select <span class="guimenu">New</span> &gt; <span class="guimenuitem">Camel Test Case</span> to open the <span class="guilabel">New Camel JUnit Test Case</span> wizard,
                    as shown in <a class="xref" href="newCamelTestCase.html#CmlTestCaseWiz" title="Figure&nbsp;5.&nbsp;New Camel JUnit Test Case wizard">Figure&nbsp;5, &#8220;New Camel JUnit Test Case wizard&#8221;</a>.</p><div class="figure"><a name="CmlTestCaseWiz"></a><p class="title"><b>Figure&nbsp;5.&nbsp;New Camel JUnit Test Case wizard</b></p><div class="figure-contents"><div class="mediaobject"><img src="./images/newCamTstCase.png" alt="Entry page of the New Camel JUnit Test Case wizard"></div></div></div><br class="figure-break"><p>Alternatively, you can open the wizard by selecting <span class="guimenu">File</span> &gt; <span class="guisubmenu">New</span> &gt; <span class="guimenuitem">Other...</span> &gt; <span class="guimenuitem">JBoss Fuse</span> &gt; <span class="guimenuitem">Camel Test Case</span> from the menu bar.</p></li><li class="step"><p>In <span class="guilabel">Source folder</span>, accept the default location of the
                    source code for the test case, or enter another location.</p><p>You can click <span class="inlinemediaobject"><img src="./images/BrowseButton.jpg" width="72.25" alt="Browse button"></span> to search for a location.</p></li><li class="step"><p>In <span class="guilabel">Package</span>, accept the default package name for the
                    generated test code, or enter another package name.</p><p>You can click <span class="inlinemediaobject"><img src="./images/BrowseButton.jpg" width="72.25" alt="Browse button"></span> to search for a package.</p></li><li class="step"><p>In <span class="guilabel">Camel XML file under test</span>, accept the default pathname
                    of the routing context file that contains the route you want to test, or enter
                    another pathname.</p><p>You can click <span class="inlinemediaobject"><img src="./images/BrowseButton.jpg" width="72.25" alt="Browse button"></span> to search for a context file.</p></li><li class="step"><p>In <span class="guilabel">Name</span>, accept the default name for the generated test
                    class, or enter another name.</p></li><li class="step"><p>Select the method stubs you want to include in the generated code. </p></li><li class="step"><p>If you want to include the default generated comments in the generated code,
                    check the <span class="guilabel">Generate comments</span> box.</p></li><li class="step"><p>Click <span class="inlinemediaobject"><img src="./images/NextButton.jpg" width="68" alt="Next button"></span> to open the <span class="guilabel"> Test Endpoints</span> page. For
                    example, <a class="xref" href="newCamelTestCase.html#CmlTestEndpts" title="Figure&nbsp;6.&nbsp;New Camel JUnit Test Case page">Figure&nbsp;6, &#8220;New Camel JUnit Test Case page&#8221;</a> shows a route's input and output file
                    endpoints selected.</p><div class="figure"><a name="CmlTestEndpts"></a><p class="title"><b>Figure&nbsp;6.&nbsp;New Camel JUnit Test Case page</b></p><div class="figure-contents"><div class="mediaobject"><img src="./images/newCamTstEndpts.png" alt="Example Test Endpoints page"></div></div></div><br class="figure-break"></li><li class="step"><p>Under <span class="guilabel">Available endpoints</span>, select the endpoints you want
                    to test. Click the checkbox next to any selected endpoint to deselect it.
                </p></li><li class="step"><p>Click <span class="inlinemediaobject"><img src="./images/FinishButton.jpg" width="68.84999999999998" alt="Finish button"></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If prompted, add JUnit to the build path.</p></td></tr></table></div></li></ol></div><p>The artifacts for the test are added to your project and appear in <span class="guilabel">Project
                Explorer</span> under <code class="code">src/test/java</code>. The class implementing the
            test case opens in the Java editor.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2973"></a>Related topics</h2></div></div></div><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="phrase"><a class="link" href="https://access.redhat.com/documentation/en-US/Red_Hat_JBoss_Fuse/6.3/html/Tooling_Tutorials/index.html" target="_top">Red Hat JBoss Fuse Tooling Tutorials</a>, <span class="italic">To Test a
                    Route with JUnit</span></span>
                    
            </td></tr></table></div></div></body></html>