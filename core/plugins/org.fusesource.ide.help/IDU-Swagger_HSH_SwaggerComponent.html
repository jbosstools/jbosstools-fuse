<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Overview</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Swagger.html" title="Swagger"><link rel="prev" href="IDU-Swagger.html" title="Swagger"><link rel="next" href="swagWARcnfg.html" title="Configuring WAR deployments"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IDU-Swagger_HSH_SwaggerComponent"></a>Overview</h2></div></div></div><p>Available as of Camel 2.14</p><p>The <a class="link" href="http://localhost:8090/display/CAMEL/Rest+DSL" target="_top">Rest DSL</a> can be integrated with the
            <code class="code">camel-swagger</code> component, which is used for exposing
            REST services and their APIs using <a class="link" href="http://swagger.wordnik.com/" target="_top">Swagger</a>.</p><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e171640"></a>Dependencies</h3></div></div></div><p>Maven users need to add the following dependency to their
                    <code class="code">pom.xml</code> file to use this component:</p><div class="informalexample"><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-swagger&lt;/artifactId&gt;
    &lt;version&gt;2.18.1.redhat-000005&lt;/version&gt;
    &lt;!-- Use the same version as your Camel core version --&gt;
&lt;dependency&gt;</pre></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="scroll-bookmark-298"></a>Selecting the Swagger servlet</h3></div></div></div><p>Which servlet you use depends on the Camel version you
                use:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Camel 2.15.x</p><p>
                        <code class="filename">org.apache.camel.component.swagger.DefaultCamelSwaggerServlet</code>
                    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This default servlet integrates with any
                            environment, using JMX to discover the
                            CamelContext(s) to use. It replaces both Camel
                            2.14.x servlets, which are deprecated from Camel
                            2.15 onwards. </p></td></tr></table></div></li><li class="listitem"><p>Camel 2.14.x</p><p>The Swagger servlet is integrated with either Spring
                        or the <code class="filename">servletListener</code>
                        component:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Spring</p><p>
                                <code class="filename">org.apache.camel.component.swagger.spring.SpringRestSwaggerApiDeclarationServlet</code>
                            </p></li><li class="listitem"><p><code class="filename">servletListener</code>
                                component</p><p>
                                <code class="filename">org.apache.camel.component.swagger.servletlistener.ServletListenerRestSwaggerApiDelarationServlet</code>
                            </p></li></ul></div></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="scroll-bookmark-300"></a>Servlet configuration parameters</h3></div></div></div><p>All of the servlets support these options:</p><div class="informaltable"><table border="1"><colgroup><col width="35%" class="c1"><col width="9%" class="c2"><col width="56%" class="c3"></colgroup><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>
                                <span class="property">api.contact</span>
                            </td><td>String</td><td>Specifies an email used for API-related
                                correspondence</td></tr><tr><td>
                                <span class="property">api.description</span>
                            </td><td>String</td><td>[<span class="bold"><strong>Required</strong></span>]
                                Provides a short description of the
                                application</td></tr><tr><td>
                                <span class="property">api.license</span>
                            </td><td>String</td><td>Specifies the name of the license used for
                                the API </td></tr><tr><td>
                                <span class="property">api.licenseUrl</span>
                            </td><td>String</td><td>Specifies the URL of the license used for the
                                API</td></tr><tr><td>
                                <span class="property">api.path</span>
                            </td><td>String</td><td>
                                <p>[<span class="bold"><strong>Required</strong></span>] Specifies the location
                                    at which the API is available.</p>
                                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Camel 2.15
                                        +</strong></span>&#8212;Enter the relative
                                        path only:
                                        <code class="filename">host:port/context-path/api.path</code>
                                        At run time, camel-swagger calculates
                                        the absolute api path.</p></li><li class="listitem"><p><span class="bold"><strong>Camel
                                        2.14.x</strong></span>&#8212;Enter the
                                        absolute api path:
                                        <code class="filename">protocol://host:port/context-path/api.path</code>.</p></li></ul></div>
                            </td></tr><tr><td>
                                <span class="property">api.termsOfServiceUrl</span>
                            </td><td>String</td><td>Specifies the URL to the Terms of Service of
                                the API</td></tr><tr><td>
                                <span class="property">api.title</span>
                            </td><td>String</td><td>[<span class="bold"><strong>Required</strong></span>]
                                Specifies the title of the application</td></tr><tr><td>
                                <span class="property">api.version</span>
                            </td><td>String</td><td>Specifies the version of the API. The default
                                is <code class="literal">0.0.0</code>.</td></tr><tr><td>
                                <span class="property">base.path</span>
                            </td><td>String</td><td>
                                <p>[<span class="bold"><strong>Required</strong></span>] Specifies the location
                                    at which the REST services are
                                    available.</p>
                                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Camel 2.15
                                        +</strong></span>&#8212;Enter the relative
                                        path only:
                                        <code class="filename">host:port/context-path/base.path</code>.
                                        At run time, camel-swagger calculates
                                        the absolute base path.</p></li><li class="listitem"><p><span class="bold"><strong>Camel
                                        2.14.x</strong></span>&#8212;Enter the
                                        absolute base path:
                                        <code class="filename">protocol://host:port/context-path/base.path</code>.</p></li></ul></div>
                            </td></tr><tr><td>
                                <span class="property">cors</span>
                            </td><td>Boolean</td><td>
                                <p>Specifies whether to enable CORS. This
                                    parameter enables CORS for the API browser
                                    only. It does not enable access to the REST
                                    services. The default is
                                        <code class="literal">false</code>.</p>
                                <p>Using the CorsFilter (see x) is
                                    recommended instead of using this
                                    parameter.</p>
                            </td></tr><tr><td>
                                <span class="property">swagger.version</span>
                            </td><td>String</td><td>Specifies the version of the Swagger
                                Specification. The default is
                                    <code class="literal">1.2</code>.</td></tr></tbody></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="scroll-bookmark-301"></a>Using the CorsFilter</h3></div></div></div><p>If you use the Swagger UI to view the REST API, you will
                likely need to enable support for CORS. When the Swagger UI is
                hosted and running on a different hostname/port than the REST
                APIs, it needs access to the REST resources across the origin
                (CORS). The CorsFilter adds the necessary HTTP headers to enable
                CORS.</p><p>For all requests, the CorsFilter sets these headers:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Access-Control-Allow-Origin = *</p></li><li class="listitem"><p>Access-Control-Allow-Methods = GET, HEAD, POST, PUT,
                        DELETE, TRACE, OPTIONS, CONNECT, PATCH</p></li><li class="listitem"><p>Access-Control-Max-Age = 3600</p></li><li class="listitem"><p>Access-Control-Allow-Headers = Origin, Accept,
                        X-Requested-With, Content-Type,
                        Access-Control-Request-Method,
                        Access-Control-Request-Headers</p></li></ul></div><p>
                <em><span class="remark">QUESTION: How do you set up the CorsFilter in Camel
                    2.15? Or do you?</span></em>
            </p><p>To use it, with WAR deployments, add
                    <code class="filename">org.apache.camel.component.swagger.RestSwaggerCorsFilter</code>
                to your <code class="filename">WEB-INF/web.xml</code> file. For
                example:</p><div class="informalexample"><pre class="programlisting">&lt;!-- Use CORs filter so people can use Swagger UI to browse and test the APIs --&gt;
                    
&lt;filter&gt;
     &lt;filter-name&gt;RestSwaggerCorsFilter&lt;/filter-name
     &lt;filter-class&gt;org.apache.camel.component.swagger.RestSwaggerCorsFilter&lt;/filter-class&gt;
&lt;/filter&gt;
 
&lt;filter-mapping&gt;
     &lt;filter-name&gt;RestSwaggerCorsFilter&lt;/filter-name&gt;
     &lt;url-pattern&gt;/api-docs/*&lt;/url-pattern&gt;
     &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This example shows a very simple CORS filter. You may need
                    to use a more sophisticated filter to set header values
                    differently for a given client or to block certain clients,
                    and so on.</p></td></tr></table></div></div></div></body></html>