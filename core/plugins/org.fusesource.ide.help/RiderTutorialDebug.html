<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>To Debug a Routing Context</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="description" content="This tutorial shows how to use the Camel debugger for only a locally running routing context. The routing context and each node with a breakpoint set must have a unique ID. The tooling automatically assigns a unique ID to the camelContext element and to components and patterns dropped on the canvas, but you can change these IDs to customize your project."><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="RiderTutorials.html" title="Tutorials"><link rel="prev" href="RiderTutorialAddRoute.html" title="To Add Another Route to the CBR Routing Context"><link rel="next" href="RiderTutorialTrace.html" title="To Trace a Message Through a Route"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="RiderTutorialDebug"></a>To Debug a Routing Context</h1></div><div><div class="abstract"><p>This tutorial shows how to use the Camel debugger for only 
                a locally running routing context. The routing
                context and each node with a breakpoint set must have a unique ID. The tooling
                automatically assigns a unique ID to the <code class="sgmltag-element">camelContext</code>
                element and to components and patterns dropped on the canvas, but you can change
                these IDs to customize your project. </p></div></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e23132"></a>Goals</h2></div></div></div><p>In this tutorial you will:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In <span class="guilabel">Design</span> view, set breakpoints on the nodes of interest
                    in Route1</p></li><li class="listitem"><p>Switch to Route2, and set breakpoints on the nodes of interest</p></li><li class="listitem"><p>Invoke the Camel debugger</p></li><li class="listitem"><p>Step through the route, examining route and message variables as they
                    change</p></li><li class="listitem"><p>Step through the route again, changing the value of message variables and
                    observing the effects</p></li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e23156"></a>Prerequisites</h2></div></div></div><p>To complete this tutorial you will need the <span class="guilabel">CBRroute</span> project you
            updated in <a href="RiderTutorialAddRoute.html" class="olink"><i>To Add Another Route to the CBR Routing Context</i></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you skipped any tutorial after <a href="RiderTutorialCreate.html" class="olink"><i>To Create a New Route</i></a> you can
                use the prefabricated <code class="filename">blueprintContext6.xml</code> file to work
                through this tutorial (for details, see <a href="RiderTutorialResources.html" class="olink"><i>Using the Fuse Tooling Resource Files</i></a>). </p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e23176"></a>Setting breakpoints</h2></div></div></div><p>You can set both conditional and unconditional breakpoints, but in this tutorial, you
            will set unconditional breakpoints only.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>If necessary, open your <code class="filename">CBRroute/src/main/resources/OSGI-INF/blueprint/blueprint.xml</code> in
                    the route editor.</p></li><li class="step"><p>In <span class="guilabel">Project Explorer</span>, expand <code class="filename">Camel
                        Contexts</code>/<code class="filename">src/main/resources/OSGI-INF/blueprint</code> to expose both route
                    entries.</p></li><li class="step"><p>Double-click the <span class="guilabel">Route_route1</span> entry to switch focus to
                        <span class="guilabel">Route_route1</span> in <span class="guilabel">Design</span> view. </p></li><li class="step"><a name="setBPstep"></a><p>On the canvas, select the <span class="guilabel">Choice_choice1</span> node, and then
                    click its <span class="inlinemediaobject"><img src="./images/red-dot.png" width="11" alt="red icon"></span> icon to set an unconditional breakpoint:</p><div class="informaltable"><table border="0"><colgroup><col width="144" class="c1"><col width="48" class="c2"><col width="144" class="c3"></colgroup><tbody><tr><td>
                                    <div class="informalfigure"><div class="mediaobject"><img src="./images/BPnodeIcons.png" width="113.39999999999999"></div></div>
                                </td><td valign="middle">
                                    <div class="informalfigure"><div class="mediaobject"><img src="./images/forward_nav.gif"></div></div>
                                </td><td>
                                    <div class="informalfigure"><div class="mediaobject"><img src="./images/BPnodeIcons2.png" width="113.39999999999999"></div></div>
                                </td></tr></tbody></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>In the route editor, you can disable or delete a specific breakpoint by
                        clicking the node's <span class="inlinemediaobject"><img src="./images/gray-dot.png" width="11" alt="gray icon"></span> icon or its <span class="inlinemediaobject"><img src="./images/delete_bp.gif" alt="delete icon"></span> icon, respectively. You can delete all set breakpoints
                        by right-clicking the canvas and selecting <span class="guilabel">Delete all
                            breakpoints</span>. </p></td></tr></table></div></li><li class="step"><p>Repeat <a class="xref" href="RiderTutorialDebug.html#setBPstep" title="Step 4">Step 4</a> to set an
                    unconditional breakpoint on the following <span class="guilabel">Route_Route1</span> nodes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="guilabel">Log_log1</span></p></li><li class="listitem"><p><span class="guilabel">SetHeader_setHeader1</span></p></li><li class="listitem"><p><span class="guilabel">To_Invalid</span></p></li><li class="listitem"><p><span class="guilabel">Log_log2</span></p></li><li class="listitem"><p><span class="guilabel">SetHeader_setHeader2</span></p></li><li class="listitem"><p><span class="guilabel">To_Fulfill</span></p></li></ul></div></li><li class="step"><p>In <span class="guilabel">Project Explorer</span>, double-click
                        <span class="guilabel">Route_route2</span> under <code class="filename">src/main/resources/OSGI-INF/blueprint</code> to open
                    <span class="guilabel">Route_route2</span> on
                    the canvas.</p></li><li class="step"><p>Repeat <a class="xref" href="RiderTutorialDebug.html#setBPstep" title="Step 4">Step 4</a> to set an
                    unconditional breakpoint on the following <span class="guilabel">Route_Route2</span> nodes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="guilabel">Choice_choice2</span></p></li><li class="listitem"><p><span class="guilabel">SetHeader_setHead_usa</span></p></li><li class="listitem"><p><span class="guilabel">Log_usa</span></p></li><li class="listitem"><p><span class="guilabel">To_US</span></p></li><li class="listitem"><p><span class="guilabel">SetHeader_setHead_uk</span></p></li><li class="listitem"><p><span class="guilabel">Log_uk</span></p></li><li class="listitem"><p><span class="guilabel">To_UK</span></p></li><li class="listitem"><p><span class="guilabel">SetHeader_setHead_ger</span></p></li><li class="listitem"><p><span class="guilabel">Log_ger</span></p></li><li class="listitem"><p><span class="guilabel">To_GER</span></p></li><li class="listitem"><p><span class="guilabel">SetHeader_setHead_fr</span></p></li><li class="listitem"><p><span class="guilabel">Log_fr</span></p></li><li class="listitem"><p><span class="guilabel">To_FR</span></p></li></ul></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="stepThruRouteCntxt"></a>Stepping through the CBRroute routing context</h2></div></div></div><p>You can step through the routing context in two ways: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Step over (<span class="inlinemediaobject"><img src="images/stepover_co.png" alt="Step Over icon"></span>)&#8212;Jumps to the next node of execution in the
                        routing context, regardless of breakpoints.</p></li><li class="listitem"><p>Resume (<span class="inlinemediaobject"><img src="images/resume_co.png" alt="Resume icon"></span>)&#8212;Jumps to the next active breakpoint in the
                        routing context. </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can temporarily narrow then later re-expand the debugger's focus by disabling
                and re-enabling the breakpoints you set in the routing context. This enables you,
                for example, to focus on problematic nodes in your routing context. To do so, open
                the <span class="guilabel">Breakpoints</span> tab and clear the check box of each breakpoint
                you want to temporarily disable. Then use <span class="inlinemediaobject"><img src="images/resume_co.png" alt="Resume icon"></span> to step through the route. The debugger will skip over the
                disabled breakpoints. </p></td></tr></table></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><a name="startDebugger1"></a><p>In <span class="guilabel">Project Explorer</span>, expand the root node
                        <span class="guimenuitem">CBRroute</span> to expose the
                        <code class="filename">blueprint.xml</code> file in the <span class="guilabel">Camel
                        Contexts</span> folder.</p></li><li class="step"><p>Right-click the <code class="filename">blueprint.xml</code> file to open its context
                    menu, and then click <span class="guimenu">Debug As...</span> &gt; <span class="guimenuitem">Local Camel Context</span>.</p><p>The Camel debugger suspends execution at the first breakpoint it encounters
                    and asks whether you want to open <span class="guilabel">Debug</span> perspective
                    now:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutCnfrmPerspSwitch.png" width="232.65"></div></div></li><li class="step"><a name="startDebugger3"></a><p>Click <span class="guibutton">Yes</span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you click <span class="guibutton">No</span>, the confirmation pane appears
                        several more times. After the third refusal, it disappears, and the Camel
                        debugger resumes execution. To interact with the debugger at this point, you
                        need to open the <span class="guilabel">Debug</span> perspective by clicking <span class="guimenu">Window</span> &gt; <span class="guisubmenu">Open Perspective</span> &gt; <span class="guimenuitem">Debug</span>.</p></td></tr></table></div><p><span class="guilabel">Debug</span> perspective opens with the routing context
                    suspended at <code class="literal">_choice1 in Route1 [blueprint.xml]</code> as shown in
                        <span class="guilabel">Debug</span> view:</p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="495"><tr><td><img src="./images/tutDebugPerspOpen1.png" width="495"></td></tr></table></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Breakpoints are held for a maximum of five minutes before the debugger
                        automatically resumes, moving on to the next breakpoint or to the end of the
                        routing context, whichever comes next.</p></td></tr></table></div></li><li class="step"><p>In <span class="guilabel">Variables</span> view, expand the nodes to expose the
                    variables and values available for each node.</p><p>As you step through the routing context, the variables whose values have
                    changed since the last breakpoint are highlighted in yellow. You may need to
                    expand the nodes at each breakpoint to reveal variables that have
                    changed.</p></li><li class="step"><p>Click <span class="inlinemediaobject"><img src="images/resume_co.png" alt="Resume icon"></span> to step to the next breakpoint, <code class="literal">_log2 in Route1
                        [blueprint.xml]</code>:</p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="495"><tr><td><img src="./images/tutDBResumeLog2Rte1.png" width="495"></td></tr></table></div></div></li><li class="step"><p>Expand the nodes in <span class="guilabel">Variables</span> view to examine the
                    variables that have changed since the last breakpoint at <code class="literal">_choice1 in
                        Route1 [blueprintxt.xml]</code>.</p></li><li class="step"><p>Click <span class="inlinemediaobject"><img src="images/resume_co.png" alt="Resume icon"></span> to step to the next breakpoint, <code class="literal">_setHeader2 in
                        Route1 [blueprint.xml]</code>.</p><p>Examine the variables that changed since the breakpoint at <code class="literal">_log2 in
                        Route1 [blueprint.xml]</code>. </p></li><li class="step"><p>In <span class="guilabel">Debug</span> view, click <code class="literal">_log2 in Route1
                        [blueprint.xml]</code> to populate <span class="guilabel">Variables</span> view
                    with the variable values from the breakpoint <code class="literal">_log2 in Route1
                        [blueprint.xml]</code> for a quick comparison.</p><p>In <span class="guilabel">Debug</span> view, you can switch between breakpoints within
                    the same message flow to quickly compare and monitor changing variable values in
                        <span class="guilabel">Variables</span> view.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Message flows can vary in length. For messages that transit
                            the <code class="literal">InvalidOrders</code> branch of
                            <span class="guilabel">Route_route1</span>, the message flow is short. For messages
                        that transit the <code class="literal">ValidOrders</code> branch of
                            <span class="guilabel">Route_route1</span>, which continues on to
                            <span class="guilabel">Route_route2</span>, the message flow is longer.</p></td></tr></table></div></li><li class="step"><p>Continue stepping through the routing context. When one message completes the
                    routing context and the next message enters it, the new message flow appears in
                        <span class="guilabel">Debug</span> view, tagged with a new breadcrumb ID:</p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="450"><tr><td><img src="./images/tutDBviewNextMsg.png" width="450"></td></tr></table></div></div><p>In this case,
                        <code class="filename">ID-janemurpheysmbp-home-55846-1471374645179-0-3</code>
                    identifies the second message flow, corresponding to
                        <code class="filename">message2.xml</code> having entered the routing context.
                    Breadcrumb IDs are incremented by 2.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Exchange and Message IDs are identical and remain unchanged throughout a
                        message's passage through the routing context. Their IDs are constructed
                        from the message flow's breadcrumb ID, and incremented by 1. So, in the case
                        of <code class="filename">message2.xml</code>, its <code class="filename">ExchangeId</code>
                        and <code class="filename">MessageId</code> are
                            <code class="filename">ID-janemurpheysmbp-home-55846-1471374645179-0-4</code>. </p></td></tr></table></div></li><li class="step"><p>When <code class="filename">message3.xml</code> enters the breakpoint <code class="literal">_choice1
                        in Route_route1 [blueprint.xml]</code>, examine the
                        <span class="property">Processor</span> variables. The values displayed are the
                    metrics accumulated for <code class="filename">message1.xml</code> and
                        <code class="filename">message2.xml</code>, which previously transited the routing
                    context:</p><div class="informalfigure"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="405"><tr><td><img src="./images/tutMsg3Choice1Stats.png" width="405"></td></tr></table></div></div><p>Timing metrics are in milliseconds.</p></li><li class="step"><p>Continue stepping each message through the routing context, examining
                    variables and console output at each processing step. When
                        <code class="filename">message6.xml</code> enters the breakpoint <code class="literal">To_GER in
                        Route2 [blueprint.xml]</code>, the debugger begins shutting down the
                    breadcrumb threads.</p></li><li class="step"><p>In the Menu bar, click <span class="inlinemediaobject"><img src="images/terminate_co.png" alt="Terminate icon"></span> to terminate the Camel debugger. This will cause the
                    Console to terminate, but you will have to manually clear the output.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>With a thread or endpoint selected under the Camel Context node in
                            <span class="guilabel">Debug</span> view, you need to click <span class="inlinemediaobject"><img src="images/terminate_co.png" alt="Terminate icon"></span> twice&#8212;first to terminate the thread or endpoint
                        and second to terminate the Camel Context, thus the session.</p></td></tr></table></div></li><li class="step"><p>In the Menu bar, right-click <span class="inlinemediaobject"><img src="images/tutDebugPersp.png" width="36.6"></span> to open the context menu, and then select
                        <span class="guimenuitem">Close</span> to close <span class="guilabel">Debug</span>
                    perspective.</p><p>Doing so automatically returns you to perspective from which you launched the
                    Camel debugger.</p></li><li class="step"><p>In <span class="guilabel">Project Explorer</span>, open the project's context menu, and
                    select <span class="guimenuitem">Refresh</span> to refresh the display.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you terminated the session prematurely, before all messages transited
                        the routing context, you might see, under the
                            <code class="filename">CBRroute/src/data</code> folder, a message like this:
                            <code class="filename">message3.xml.camelLock</code>. You need to remove it
                        before you run the debugger on the project again. To do so, double-click the
                            <code class="filename">.camelLock</code> message to open its context menu,  and
                        then select <span class="guimenuitem">Delete</span>. When asked, click
                            <span class="guibutton">OK</span> to confirm deletion. </p></td></tr></table></div></li><li class="step"><p>Expand the <code class="filename">CBRroute/target/messages/</code>* directories to
                    check that the messages were delivered to their expected destinations: </p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutDualCBRrteVerify.png" width="128.70000000000002"></div></div></li><li class="step"><p>Leave the routing context as is, with all previous breakpoints set and
                    enabled.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e23740"></a>Changing the value of a variable</h2></div></div></div><p>In this session, you will add variables to a watch list to easily check how their
            values change as messages pass through the routing context. You will also change the
            value of a variable in the body of two messages and observe how the change affects each
            message's route through the routing context.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Follow <a class="xref" href="RiderTutorialDebug.html#startDebugger1" title="Step 1">Step 1</a> through <a class="xref" href="RiderTutorialDebug.html#startDebugger3" title="Step 3">Step 3</a> in <a class="xref" href="RiderTutorialDebug.html#stepThruRouteCntxt" title="Stepping through the CBRroute routing context">Stepping through the CBRroute routing context</a> to rerun the Camel debugger on 
                the <span class="guilabel">CBRroute</span> project.</p></li><li class="step"><p>With message1 stopped at the first breakpoint, <code class="literal">_choice1 in Route1
                        [blueprint.xml]</code>, add the variables <span class="guilabel">NodeId</span> and
                        <span class="guilabel">RouteId</span> (in the <span class="guilabel">Exchange</span> category)
                    and <span class="guilabel">MessageBody</span> and <span class="guilabel">CamelFileName</span> (in
                    the <span class="guilabel">Message</span> category) to the watch list. </p><p>For each of the four variables:</p><ol type="a" class="substeps"><li class="step"><p>In <span class="guilabel">Variables</span> view, expand the appropriate
                            category to expose the target variable:</p></li><li class="step"><a name="selectVariable"></a><p>Right-click the variable (in this case, <span class="guilabel">NodeId</span> in
                            the <span class="guilabel">Exchange</span> category) to open the context menu and
                            select <span class="guimenuitem">Watch</span>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FTVarNodeIDWatch.png" width="217.25000000000006"></div></div><p>The <span class="guilabel">Expressions</span> tab opens, listing the variable
                            you selected to watch:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FTWatchM1NodeId.png" width="336.6"></div></div></li><li class="step"><p>Repeat <a class="xref" href="RiderTutorialDebug.html#selectVariable" title="Step 2.b">Step 2.b</a> for each of the three remaining variables.</p></li><li class="step"><p>Switch back to <span class="guilabel">Variables</span> view.</p></li></ol></li><li class="step"><p>Step message1 through the routing context until it reaches the fourth
                    breakpoint, <code class="literal">_Fulfill in Route1 [blueprint.xml]</code>.</p></li><li class="step"><p>In <span class="guilabel">Variables</span> view, expand the
                        <span class="guilabel">Message</span> category.</p></li><li class="step"><p>Repeat <a class="xref" href="RiderTutorialDebug.html#selectVariable" title="Step 2.b">Step 2.b</a> to
                    add the variable <span class="guilabel">Destination</span> to the watch list.</p><p><span class="guilabel">Expressions</span> view should now contain these
                    variables:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FTWatchM1R1toFfil.png" width="339.90000000000003"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The pane below the list of variables displays the value of the selected
                        variable.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p><span class="guilabel">Expressions</span> view retains all variables you add to the
                        list until you explicitly remove them. </p></td></tr></table></div></li><li class="step"><p>Step message1 through the rest of the routing context.</p></li><li class="step"><p>Stop message2 at <code class="literal">_choice1 in Route1 [blueprint.xml]</code>.</p></li><li class="step"><p>In <span class="guilabel">Variables</span> view, expand the
                        <span class="guilabel">Message</span> category to expose the
                        <span class="guilabel">MessageBody</span> variable.</p></li><li class="step"><p>Right-click <span class="guilabel">MessageBody</span> to open its context menu, and
                    select <span class="guimenuitem">Change Value...</span>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutVarChngMenuMsg2.png" width="246.40000000000003"></div></div></li><li class="step"><p>Change the value of <span class="property">quantity</span> from <code class="constant">3</code>
                    to <code class="constant">2</code>: </p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutChgVarsMsg2.png" width="260.70000000000005"></div></div><p>This changes the in-memory value only.</p></li><li class="step"><p>Click <span class="guibutton">OK</span>.</p></li><li class="step"><p>Switch to <span class="guilabel">Expressions</span> view, and select the
                        <span class="guilabel">MessageBody</span> variable.</p><p>The pane below the list of variables displays the entire body of message2,
                    making it easy to check the current value of order items:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/FTWatchM2R1toFfilVarChng.png" width="207.35000000000002"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Creating a watch list makes it easy for you to quickly check the current
                        value of multiple variables of interest. </p></td></tr></table></div></li><li class="step"><a name="varChgRestart1"></a><p>Click <span class="inlinemediaobject"><img src="images/resume_co.png" alt="Resume icon"></span> to step to the next breakpoint.</p><p>Instead of following the branch leading to <span class="guilabel">To_Invalid</span>,
                    message2 now follows the branch leading to<span class="guilabel">To_Fulfill</span> and
                        <span class="guilabel">Route_route2</span>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutCamCntxtMsg2toFulfill.png" width="216.4"></div></div></li><li class="step"><a name="varChgRestart2"></a><p>Step message2 through the routing context, checking <span class="guilabel">Debug</span>
                    view, <span class="guilabel">Variables</span> view, and <span class="guilabel">Console</span>
                    output at each step.</p></li><li class="step"><p>Stop message3 at <code class="literal">_choice1 in Route1 [blueprint.xml]</code>.</p></li><li class="step"><p>Switch to <span class="guilabel">Breakpoints</span> view, and disable all breakpoints
                    (13) listed below <code class="filename">_choice1</code>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutBreakptsDisabled.png" width="414.70000000000005"></div></div></li><li class="step"><p>Click <span class="inlinemediaobject"><img src="images/resume_co.png" alt="Resume icon"></span> to step to the next breakpoint:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutMsg3toFulfillRte1.png" width="298.34999999999997"></div></div><p>The debugger jumps to <code class="literal">_FulFill in Route1
                    [blueprint.xml]</code>.</p></li><li class="step"><p>Click <span class="inlinemediaobject"><img src="images/resume_co.png" alt="Resume icon"></span> again to step to the next breakpoint:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutMsg3toUKRte2.png" width="300.30000000000007"></div></div><p>The debugger jumps to <code class="literal">_UK in Route2 [blueprint.xml]</code>.</p></li><li class="step"><p>In <span class="guilabel">Breakpoints</span> view, and re-enable all disabled
                    breakpoints.</p></li><li class="step"><p>Switch back to <span class="guilabel">Variables</span> view.</p></li><li class="step"><p>Click <span class="inlinemediaobject"><img src="images/resume_co.png" alt="Resume icon"></span> to step to the next breakpoint, and stop message4 at
                        <code class="literal">_choice1 in Route1 [blueprint.xml]</code>.</p></li><li class="step"><p>Right-click <span class="guilabel">MessageBody</span> to open its context menu, and
                    select <span class="guilabel">Change Value...</span>.</p></li><li class="step"><p>Change the value of <span class="property">quantity</span> from <code class="constant">5</code>
                    to <code class="constant">4</code>: </p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutChnVarMsg4.png" width="260.70000000000005"></div></div></li><li class="step"><p>Click <span class="guibutton">OK</span>.</p></li><li class="step"><p>Switch to <span class="guilabel">Expressions</span> view, and select the
                        <span class="guilabel">MessageBody</span> variable to check the value of
                        <span class="property">quantity</span> in the body of message4.</p></li><li class="step"><p>Repeat <a class="xref" href="RiderTutorialDebug.html#varChgRestart1" title="Step 13">Step 13</a> and
                        <a class="xref" href="RiderTutorialDebug.html#varChgRestart2" title="Step 14">Step 14</a> to step message4 through the routing
                    context.</p></li><li class="step"><p>Click <span class="inlinemediaobject"><img src="images/resume_co.png" alt="Resume icon"></span> repeatedly to quickly step message5 and message6 through
                    the routing context.</p></li><li class="step"><p>In the tool bar, click <span class="inlinemediaobject"><img src="images/terminate_co.png" alt="Terminate icon"></span> to terminate the Camel debugger:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutDBTerminateNorm.png" width="388.3"></div></div><p>This will also cause the Console to terminate, but you will have to click its <span class="inlinemediaobject"><img src="images/clear_co.png" alt="Clear output icon"></span> button to clear the output.</p></li><li class="step"><p>In the Menu bar, right-click <span class="inlinemediaobject"><img src="images/tutDebugPersp.png" width="36.6"></span> to open the context menu, and then select
                        <span class="guimenuitem">Close</span> to close <span class="guilabel">Debug</span>
                    perspective.</p><p>Doing so automatically returns you to the perspective from which you launched
                    the Camel debugger.</p></li><li class="step"><p>In <span class="guilabel">Project Explorer</span>, open the project's context menu, and
                    select <span class="guimenuitem">Refresh</span> to refresh the display.</p></li><li class="step"><p>Expand the <code class="filename">CBRroute/target/messages/</code>* directories to
                    check whether the messages were delivered as expected:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutPETargetDestsChngedVars.png" width="164.4"></div></div><p>You should see that no messages were sent to the
                        <code class="filename">invalidOrders</code>. Instead,
                        <code class="filename">message2.xml</code> should appear in the
                        <code class="filename">USA</code> folder, and <code class="filename">message4.xml</code>
                    should appear the <code class="filename">GreatBritain</code> folder.</p></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e24195"></a>Next steps</h2></div></div></div><p>Next you will trace messages through your routing context to see where you can
            optimize and fine tune your routing context's performance, as described in <a href="RiderTutorialTrace.html" class="olink"><i>To Trace a Message Through a Route</i></a>. </p></div></div></body></html>