<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Adding a Server</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="RiderManageServers.html" title="Managing servers"><link rel="prev" href="RiderManageServers.html" title="Managing servers"><link rel="next" href="FIDEStartServer.html" title="Starting a Server"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="FIDEAddServer"></a>Adding a Server</h2></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10911"></a>Overview</h3></div></div></div><p>For the tooling to manage a server, you need to add the server to the
                <span class="guilabel">Servers</span> list. Once added, the server appears in
                <span class="guilabel">Servers</span> panel, where you can connect to it and publish your
            Fuse Integration projects.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If adding a Red Hat JBoss Fuse 6.2+ or 6.3 server, it's recommended that you edit
                its <em class="replaceable"><code>installDir</code></em><code class="literal">/etc/users.properties</code>
                file and add user information, in the form of <code class="literal">user=password,role</code>,
                to enable the tooling to establish an SSH connection to the server.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10933"></a>Procedure</h3></div></div></div><p>You can add a new server to the <span class="guilabel">Servers</span> panel in three
            ways:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>In <span class="guilabel">Servers</span> panel, click the link <span class="guilabel">No servers are available.
                        Click this link to create a new server...</span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This link appears in <span class="guilabel">Servers</span> panel only when no server has been
                        defined.</p><p>If you defined and added a server when you first created your project, the
                            <span class="guilabel">Servers</span> panel displays that server.</p></td></tr></table></div></li><li class="listitem"><p>Right-click in <span class="guilabel">Servers</span> panel to open the context menu, then select <span class="guimenu">New</span> &gt; <span class="guimenuitem">Server</span>.</p></li><li class="listitem"><p>On the menu bar, select <span class="guimenu">File</span> &gt; <span class="guisubmenu">New</span> &gt; <span class="guisubmenu">Other</span> &gt; <span class="guisubmenu">Server</span> &gt; <span class="guimenuitem">Server</span>.</p></li></ul></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>In the <span class="guilabel">Define a New Server</span> dialog, expand the
                        <code class="filename">JBoss Fuse</code> node to expose the list of available server
                    options:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/UGDefNewServer.png" width="262.5"></div></div></li><li class="step"><p>Click the server you want to add.</p></li><li class="step"><p>In <span class="guilabel">Server's host name</span>, accept the default
                        (<code class="literal">localhost</code>).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The address of <code class="literal">localhost</code> is
                        <code class="literal">0.0.0.0</code>.</p></td></tr></table></div></li><li class="step"><p>In <span class="guilabel">Server name</span>, accept the default, or enter a different name for the
                    runtime server.</p></li><li class="step"><p>In <span class="guilabel">Server runtime environment</span>, accept the default, or enter a different name for the
                server runtime environment.</p></li><li class="step"><p>Click <span class="guibutton">Next</span> to open the server's <span class="guilabel">Runtime
                        definition</span> page:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/tutFuseRuntimeDef1.png" width="389.35"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If the server is not already installed on your machine, you can install it now by clicking the
                        link <span class="guilabel">Download and install runtime...</span> and following the
                        site's download instructions. Depending on the site, you may be required to
                        provide valid credentials before you can continue the download
                        process.</p></td></tr></table></div></li><li class="step"><p>Accept the default for <span class="guilabel">Name</span>.</p></li><li class="step"><p>In <span class="guilabel">Home Directory</span>, enter the path where the server
                runtime is installed, or click <span class="guibutton">Browse</span> to find and select
                it.</p></li><li class="step"><p>Select the runtime JRE from the drop-down menu next to <span class="guilabel">Execution
                        Environment</span>.</p><p>If the version you want does not appear on the list, click the
                        <span class="guibutton">Environments</span> button and select the version from that
                    list. The  JRE version you select must be installed on your machine.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>JBoss Fuse 6.3 requires either JRE version 1.8 or 1.7. </p></td></tr></table></div></li><li class="step"><p>Leave the <span class="guilabel">Alternate JRE</span> option as is.</p></li><li class="step"><a name="servCnfigDetails"></a><p>Click <span class="guibutton">Next &gt;</span> to save the server's runtime definition and open its
                        <span class="guilabel">Configuration details</span> page: </p><div class="informalfigure"><div class="mediaobject"><img src="./images/UGJBFserverConfigDetails.png" width="293.8"></div></div></li><li class="step"><a name="ServCnfgDetailsStrt"></a><p>Accept the default for <span class="guilabel">SSH Port</span> (<code class="literal">8101</code>).</p><p>The runtime uses the SSH port to connect to the server's Karaf shell. If this
                    default is incorrect for your setup, you can discover the correct port number by
                    looking in the server's
                    <em class="replaceable"><code>installDir</code></em><code class="filename">/etc/org.apache.karaf.shell.cfg</code>
                        file.</p></li><li class="step"><p>In <span class="guilabel">User Name</span>, enter the name used to log into the server.</p><p>In the case of Red Hat JBoss Fuse, this is a user name stored in the Red Hat
                    JBoss Fuse
                        <em class="replaceable"><code>installDir</code></em><code class="filename">/etc/users.properties</code>
                    file.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If the default user has been activated (uncommented) in the
                            <code class="filename">/etc/users.properties</code> file, the tooling autofills
                            <span class="guilabel">User Name</span> and <span class="guilabel">Password</span> with
                        the default user's name and password, as shown in <a class="xref" href="FIDEAddServer.html#servCnfigDetails" title="Step 11">Step 11</a>. The default user is already activated in
                        JBoss Fuse 6.2, but not in JBoss Fuse 6.0 or 6.1.</p></td></tr></table></div><p>If one has not been set, you can either add one to that file using the format
                    <code class="literal">user=password,role</code> (for example,
                    <code class="literal">joe=secret,Administrator</code>), or you can set one using the karaf
                    <code class="literal">jaas</code> command set:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">jaas:realms</code>&#8212;to list the realms</p></li><li class="listitem"><p><code class="literal">jaas:manage --index 1</code>&#8212;to edit the first
                                (server) realm</p></li><li class="listitem"><p><code class="literal">jaas:useradd &lt;username&gt;
                                &lt;password&gt;</code>&#8212;to add a user and associated
                                password</p></li><li class="listitem"><p><code class="literal">jaas:roleadd &lt;username&gt; Administrator</code>&#8212;to
                                specify the new user's role</p></li><li class="listitem"><p><code class="literal">jaas:update</code>&#8212;to update the realm with the
                                new user information</p></li></ul></div><p>If a jaas realm has already been selected for the server, you can discover the
                    user name by issuing the command
                    <code class="prompt">JBossFuse:karaf@root&gt;</code><strong class="userinput"><code>jaas:users</code></strong>.</p></li><li class="step"><a name="ServCnfgDetailsEnd"></a><p>In <span class="guilabel">Password</span>, enter the password required for <span class="guilabel">User
                        Name</span> to log into the server.</p></li><li class="step"><p>Click <span class="guibutton">Finish</span> to save the server's configuration
                details.</p><p>The server runtime will appear in <span class="guilabel">Servers</span> panel. For
                    example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/UGnewServrInstalled.png" width="328.25"></div></div><p>Expanding the server node exposes the server's JMX node:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/UGnewServrInstalledExpand.png" width="325"></div></div></li></ol></div></div></div></body></html>