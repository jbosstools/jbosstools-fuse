<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>NATS</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Apache Camel Component Reference"><link rel="prev" href="IDU-Nagios.html" title="Nagios"><link rel="next" href="IDU-Netty.html" title="Netty"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="IDU-NATS"></a>NATS</h1></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e133294"></a>NATS Component</h2></div></div></div><p><a class="link" href="http://nats.io/" target="_top">NATS</a> is a fast and reliable messaging platform.</p><p>Maven users will need to add the following dependency to their <code class="code">pom.xml</code> for this component.</p><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-nats&lt;/artifactId&gt;
    &lt;!-- use the same version as your Camel core version --&gt;
    &lt;version&gt;x.y.z&lt;/version&gt;
&lt;/dependency&gt;</pre></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e133308"></a>URI format</h2></div></div></div><pre class="programlisting">nats:servers[?options]</pre><p>Where <span class="bold"><strong>servers</strong></span> represents the list of NATS servers.</p></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e133318"></a>Options</h2></div></div></div><table id="d0e133321"><tbody><tr><th><p>Name</p></th><th><p>Default Value</p></th><th><p>Description</p></th></tr><tr><td><p><code class="code">servers</code></p></td><td><p><code class="code">null</code></p></td><td><p>Defines the servers the component should connect to.</p></td></tr><tr><td><code class="code">topic</code></td><td><code class="code">null</code></td><td>The topic to subscribe/publish to.</td></tr><tr><td><code class="code">reconnect</code></td><td><code class="code">true</code></td><td>Whether or not to use the reconnection feature.</td></tr><tr><td><code class="code">pedantic</code></td><td><code class="code">false</code></td><td>Whether or not running in pedantic mode (this affects performance).</td></tr><tr><td><code class="code">verbose</code></td><td><code class="code">false</code></td><td>Whether or not running in verbose mode</td></tr><tr><td><code class="code">ssl</code></td><td><code class="code">false</code></td><td>Whether or not to use SSL</td></tr><tr><td><code class="code">reconnectTimeWait</code></td><td><code class="code">2000</code></td><td>Waiting time before attempts reconnection (in milliseconds)</td></tr><tr><td><code class="code">maxReconnectAttempts</code></td><td><code class="code">3</code></td><td>Set the maximum number of reconnection attempts in case the connection is lost.</td></tr><tr><td><code class="code">pingInterval</code></td><td><code class="code">4000</code></td><td>Ping interval to be aware if connection is still alive (in milliseconds)</td></tr><tr><td><code class="code">noRandomizeServers</code></td><td><code class="code">false</code></td><td>Whether or not to randomize the order of servers for the connection attempts</td></tr><tr><td><code class="code">queueName</code></td><td><code class="code">null</code></td><td>The Queue name if we are using NATS for a queue configuration (consumer).</td></tr><tr><td><code class="code">maxMessages</code></td><td><code class="code">null</code></td><td>Stop receiving messages from a topic we are subscribing to after maxMessages (consumer).</td></tr><tr><td><code class="code">poolSize</code></td><td><code class="code">10</code></td><td>Pool size for consumer workers (consumer).</td></tr></tbody></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e133453"></a>Headers</h2></div></div></div><table id="d0e133456"><tbody><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td><p><code class="code">CamelNatsMessageTimestamp</code></p></td><td><code class="code">long</code></td><td>The timestamp of a consumed message.</td></tr><tr><td><p><code class="code">CamelNatsSubscriptionId</code></p></td><td><code class="code">Integer</code></td><td><p>The subscription ID of a consumer.</p></td></tr></tbody></table><p> </p><p><span class="bold"><strong>Producer example:</strong></span></p><pre class="programlisting">from("direct:send").to("nats://localhost:4222?topic=test");</pre><p><span class="bold"><strong>Consumer example:</strong></span></p><pre class="programlisting">from("nats://localhost:4222?topic=test&amp;maxMessages=5&amp;queueName=test").to("mock:result");</pre></div></div></body></html>