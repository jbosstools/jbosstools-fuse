<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>ServiceNow</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><meta name="keywords" content="ESB, Apache ServiceMix, Open Source, open source, integration, OSGi, enterprise service bus, Apache ServiceMix documentation, Apache Karaf, Red Hat JBoss Fuse, Red Hat JBoss Fuse documentation"><link rel="home" href="index.html" title="Red Hat JBoss Fuse Tooling for Eclipse"><link rel="up" href="IDU-Components.html" title="Apache Camel Component Reference"><link rel="prev" href="IDU-SEDA.html" title="SEDA"><link rel="next" href="IDU-SERVLET.html" title="SERVLET"><link rel="copyright" href="tmdisclaim.html" title="Trademark Disclaimer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="IDU-ServiceNow"></a>ServiceNow</h1></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e154966"></a>ServiceNow Component</h2></div></div></div><p>The ServiceNow component provides access to all of ServiceNow <a class="link" href="https://developer.servicenow.com/app.do#!/rest_api_doc?v=fuji" target="_top">REST API</a>. </p><p>Maven users will need to add the following dependency to their pom.xml for this component:</p><pre class="programlisting">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-servicenow&lt;/artifactId&gt;
    &lt;version&gt;${camel-version}&lt;/version&gt;
&lt;/dependency&gt;</pre></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e154978"></a>URI format</h2></div></div></div><pre class="programlisting">servicenow://<em class="replaceable"><code>InstanceName</code></em>[?<em class="replaceable"><code>Options</code></em>]</pre></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e154989"></a>Options</h2></div></div></div><table id="d0e154992"><tbody><tr><th>
<p>Name</p>
</th><th>
<p>Default Value</p>
</th><th>
<p>Description</p>
</th></tr><tr>
<td>
<p><code class="code">userName</code></p>
</td>
<td>
<p><code class="code">null</code></p>
</td>
<td>
<p>The user name to use for authentication</p>
</td></tr><tr>
<td><code class="code">password</code></td>
<td><code class="code">null</code></td>
<td>The password to use for authentication</td></tr><tr>
<td><code class="code">oauthClientId</code></td>
<td><code class="code">null</code></td>
<td>OAuth2 client id</td></tr><tr>
<td><code class="code">oauthClientSecret</code></td>
<td><code class="code">null</code></td>
<td>OAuth2 client secret</td></tr><tr>
<td><code class="code">oauthTokenUrl</code></td>
<td><code class="code">https://incenceName.service-now.com/oauth_token.do</code></td>
<td>The OAuth2 token url</td></tr><tr>
<td><code class="code">apiUrl</code></td>
<td><code class="code">https://incenceName.service-now.com/api/now</code></td>
<td>The ServiceNow API url</td></tr><tr>
<td><code class="code">table</code></td>
<td><code class="code">null</code></td>
<td>The default table, can be overridden by header CamelServiceNowTable</td></tr><tr>
<td><code class="code">excludeReferenceLink</code></td>
<td><code class="code">false</code></td>
<td>True to exclude Table API links for reference fields</td></tr><tr>
<td><code class="code">suppressAutoSysField</code></td>
<td><code class="code">false</code></td>
<td>True to suppress auto generation of system fields</td></tr><tr>
<td><code class="code">displayValue</code></td>
<td><code class="code">false</code></td>
<td>
<p>Return the display value (true), actual value (false), or both (all) for reference fields (default: false)</p>
</td></tr><tr>
<td><code class="code">inputDisplayValue</code></td>
<td><code class="code">false</code></td>
<td>True to set raw value of input fields</td></tr><tr>
<td><code class="code">models</code></td>
<td><code class="code">null</code></td>
<td>Defines the default model to use for a table i.e models.incident = my.company.model.Incident</td></tr><tr>
<td><code class="code">mapper</code></td>
<td> </td>
<td>ServiceNow component uses Jackson Databind to translate request/response to/from Json and you can customize how it is done by providing a custom ObjectMapper</td></tr></tbody></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e155177"></a>Headers</h2></div></div></div><table id="d0e155180"><tbody><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr>
<td><code class="code">CamelServiceNowResource</code></td>
<td><code class="code">String</code></td>
<td>The resource to access TABLE, AGGREGATE, IMPORT</td></tr><tr>
<td><code class="code">CamelServiceNowTable</code></td>
<td><code class="code">String</code></td>
<td>
<p>The table to access</p>
</td></tr><tr>
<td><code class="code">CamelServiceNowAction</code></td>
<td><code class="code">String</code></td>
<td>
<p>The action to perform RETRIEVE, CREATE, MODIFY, DELETE, UPDATE</p>
</td></tr><tr>
<td><code class="code">CamelServiceNowModel</code></td>
<td><code class="code">Class</code></td>
<td>The data model</td></tr><tr>
<td><code class="code">CamelServiceNowSysId</code></td>
<td><code class="code">String</code></td>
<td>ServiceNow sysy_id</td></tr><tr>
<td><code class="code">CamelServiceNowQuery</code></td>
<td><code class="code">String</code></td>
<td>An encoded query</td></tr><tr>
<td><code class="code">CamelServiceNowDisplayValue</code></td>
<td><code class="code">String</code></td>
<td>Return the display value (true), actual value (false), or both (all) for reference fields (default: false)</td></tr><tr>
<td><code class="code">CamelServiceNowInputDisplayValue</code></td>
<td><code class="code">Boolean</code></td>
<td>True to set raw value of input fields</td></tr><tr>
<td><code class="code">CamelServiceNowExcludeReferenceLink</code></td>
<td><code class="code">Boolean</code></td>
<td>True to exclude Table API links for reference fields</td></tr><tr>
<td><code class="code">CamelServiceNowFields</code></td>
<td><code class="code">String</code></td>
<td>Comma-separated field names to return in the response</td></tr><tr>
<td><code class="code">CamelServiceNowMinFields</code></td>
<td><code class="code">String</code></td>
<td>A comma-separated list of fields for which to calculate the minimum value</td></tr><tr>
<td><code class="code">CamelServiceNowMaxFields</code></td>
<td><code class="code">String</code></td>
<td>A comma-separated list of fields for which to calculate the maximum value</td></tr><tr>
<td><code class="code">CamelServiceNowSumFields</code></td>
<td><code class="code">String</code></td>
<td>A comma-separated list of fields for which to calculate the sum of the values</td></tr><tr>
<td><code class="code">CamelServiceNowLimit</code></td>
<td><code class="code">Integer</code></td>
<td>Limit to be applied on pagination</td></tr><tr>
<td><code class="code">CamelServiceNowView</code></td>
<td><code class="code">String</code></td>
<td>UI view to determine fields returned in the response.</td></tr><tr>
<td><code class="code">CamelServiceNowSuppressAutoSysField</code></td>
<td><code class="code">Boolean</code></td>
<td>True to suppress auto generation of system fields</td></tr><tr>
<td><code class="code">CamelServiceNowAvgFields</code></td>
<td><code class="code">String</code></td>
<td>A comma-separated list of fields for which to calculate the average value</td></tr><tr>
<td><code class="code">CamelServiceNowCount</code></td>
<td><code class="code">Boolean</code></td>
<td>A boolean flag. You can set this parameter to <span class="bold"><strong>true</strong></span> for the number of records returned by the query</td></tr><tr>
<td><code class="code">CamelServiceGroupBy</code></td>
<td><code class="code">String</code></td>
<td>The fields to group the returned data by</td></tr><tr>
<td><code class="code">CamelServiceOrderBy</code></td>
<td><code class="code">String</code></td>
<td>A list of values to order grouped results by</td></tr><tr>
<td><code class="code">CamelServiceHaving</code></td>
<td><code class="code">String</code></td>
<td>An additional query allowing you to filter the data based on an aggregate operation</td></tr></tbody></table></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e155450"></a>Usage examples</h2></div></div></div><pre class="programlisting">context.addRoutes(new RouteBuilder() {
    public void configure() {
       from("direct:servicenow")
           .to("servicenow:{{env:SERVICENOW_INSTANCE}}"
               + "?userName={{env:SERVICENOW_USERNAME}}"
               + "&amp;password={{env:SERVICENOW_PASSWORD}}"
               + "&amp;oauthClientId={{env:SERVICENOW_OAUTH2_CLIENT_ID}}"
               + "&amp;oauthClientSecret={{env:SERVICENOW_OAUTH2_CLIENT_SECRET}}"
               + "&amp;model.incident=org.apache.camel.component.servicenow.model.Incident")
           .to("mock:servicenow");
    }
}); Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();headers.put(ServiceNowConstants.RESOURCE, "table");
headers.put(ServiceNowConstants.ACTION, ServiceNowConstants.ACTION_RETRIEVE);
headers.put(ServiceNowConstants.SYSPARM_LIMIT, "10");
headers.put(ServiceNowConstants.TABLE, "incident");template.sendBodyAndHeaders("direct:servicenow", null, headers);</pre></div></div></body></html>